<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="nav.raid">ãƒ¬ã‚¤ãƒ‰ - ã‚»ãƒ–ãƒ³ãƒŠã‚¤ãƒ„:ãƒªãƒãƒ¼ã‚¹ Wiki</title>
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="images/icon/favicon-32.webp">
    <link rel="icon" type="image/png" sizes="16x16" href="images/icon/favicon-16.webp">
    <link rel="apple-touch-icon" sizes="180x180" href="images/icon/apple-touch-icon.webp">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Seven Knights Re:Birth Raid Guide - Boss strategies, skill patterns, and equipment drop rates. ã‚»ãƒ–ãƒ³ãƒŠã‚¤ãƒ„ãƒªãƒãƒ¼ã‚¹ ãƒ¬ã‚¤ãƒ‰æ”»ç•¥ãƒ»è£…å‚™ãƒ‰ãƒ­ãƒƒãƒ—ç‡ã€‚">
    <meta name="keywords" content="Seven Knights Re:Birth, Raid, ãƒ¬ã‚¤ãƒ‰, boss, ãƒœã‚¹, equipment, è£…å‚™, drop rate, ãƒ‰ãƒ­ãƒƒãƒ—ç‡, guide, æ”»ç•¥">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Raid Guide - Seven Knights Re:Birth Wiki">
    <meta property="og:description" content="Complete raid boss guide with skill patterns and equipment drop rates.">
    <meta property="og:url" content="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html">
    <meta property="og:image" content="https://negi-lab.com/gamewiki/SevenKnightsReBirth/images/icon/ogp_image.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Seven Knights Re:Birth Wiki">
    <meta property="og:locale" content="ja_JP">
    <meta property="og:locale:alternate" content="en_US">
    <meta property="og:locale:alternate" content="ko_KR">
    <meta property="og:locale:alternate" content="zh_CN">
    <meta property="og:locale:alternate" content="zh_TW">
    <meta property="og:locale:alternate" content="th_TH">
    <meta property="og:locale:alternate" content="de_DE">
    <meta property="og:locale:alternate" content="es_ES">
    <meta property="og:locale:alternate" content="fr_FR">
    <meta property="og:locale:alternate" content="id_ID">
    <meta property="og:locale:alternate" content="it_IT">
    <meta property="og:locale:alternate" content="ms_MY">
    <meta property="og:locale:alternate" content="nl_NL">
    <meta property="og:locale:alternate" content="pt_BR">
    <meta property="og:locale:alternate" content="ru_RU">
    <meta property="og:locale:alternate" content="tr_TR">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Raid Guide - Seven Knights Re:Birth Wiki">
    <meta name="twitter:description" content="Complete raid boss guide with skill patterns and equipment drop rates.">
    <meta name="twitter:image" content="https://negi-lab.com/gamewiki/SevenKnightsReBirth/images/icon/ogp_image.webp">
    
    <!-- Language Alternates -->
    <link rel="alternate" hreflang="ja" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html">
    <link rel="alternate" hreflang="en" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=en">
    <link rel="alternate" hreflang="ko" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=ko">
    <link rel="alternate" hreflang="zh-Hans" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=zh-Hans">
    <link rel="alternate" hreflang="zh-Hant" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=zh-Hant">
    <link rel="alternate" hreflang="th" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=th">
    <link rel="alternate" hreflang="de" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=de">
    <link rel="alternate" hreflang="es" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=es">
    <link rel="alternate" hreflang="fr" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=fr">
    <link rel="alternate" hreflang="id" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=id">
    <link rel="alternate" hreflang="it" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=it">
    <link rel="alternate" hreflang="ms" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=ms">
    <link rel="alternate" hreflang="nl" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=nl">
    <link rel="alternate" hreflang="pt" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=pt">
    <link rel="alternate" hreflang="ru" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=ru">
    <link rel="alternate" hreflang="tr" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=tr">
    <link rel="alternate" hreflang="x-default" href="https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html?lang=en">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Raid Guide - Seven Knights Re:Birth Wiki",
        "description": "Complete raid boss guide with skill patterns and equipment drop rates.",
        "url": "https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html",
        "inLanguage": ["ja", "en", "ko", "zh-Hans", "zh-Hant", "th", "de", "es", "fr", "id", "it", "ms", "nl", "pt", "ru", "tr"],
        "about": {
            "@type": "VideoGame",
            "name": "Seven Knights Re:Birth",
            "alternateName": ["ã‚»ãƒ–ãƒ³ãƒŠã‚¤ãƒ„ ãƒªãƒãƒ¼ã‚¹", "ì„¸ë¸ë‚˜ì´ì¸  ë¦¬ë²„ìŠ¤", "7K ReBirth"],
            "gamePlatform": ["Android", "iOS"],
            "genre": ["RPG", "Turn-based RPG"],
            "publisher": {"@type": "Organization", "name": "Netmarble"}
        },
        "speakable": {
            "@type": "SpeakableSpecification",
            "cssSelector": [".page-title", ".page-subtitle", "meta[name='description']"]
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {"@type": "ListItem", "position": 1, "name": "Seven Knights Re:Birth Wiki", "item": "https://negi-lab.com/gamewiki/SevenKnightsReBirth/"},
            {"@type": "ListItem", "position": 2, "name": "Raid", "item": "https://negi-lab.com/gamewiki/SevenKnightsReBirth/raid.html"}
        ]
    }
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1835873052239386" crossorigin="anonymous"></script>
    
    <!-- Ko-fi Widget -->
    <script type="text/javascript" src="https://storage.ko-fi.com/cdn/widget/Widget_2.js"></script>
    
    <!-- OFUSE Widget -->
    <script async src="https://ofuse.me/assets/platform/widget.js" charset="utf-8"></script>
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="raid.css">
    <script src="i18n.js"></script>
</head>
<body>
    <header>
        <a href="index.html" class="logo">
            <img src="images/icon/rogo.webp" alt="7K:Re Wiki">
        </a>
        <nav>
            <ul>
                <li><a href="index.html" data-i18n="nav.home">ãƒ›ãƒ¼ãƒ </a></li>
                <li><a href="characters.html" data-i18n="nav.characters">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</a></li>
                <li><a href="build_calculator.html" data-i18n="nav.build">ãƒ“ãƒ«ãƒ‰</a></li>
                <li><a href="adventure.html" data-i18n="nav.adventure">å†’é™º</a></li>
                <li><a href="raid.html" class="active" data-i18n="nav.raid">ãƒ¬ã‚¤ãƒ‰</a></li>
                <!-- Mobile Support Links (inside nav for mobile menu) -->
                <li class="mobile-nav-support">
                    <div class="mobile-support-links active">
                        <a href="https://ko-fi.com/X8X11KVU5K" target="_blank" rel="noopener" class="support-btn kofi-btn">
                            <img src="images/icon/kofi-cup.webp" alt="Ko-fi" class="kofi-icon">
                            <span>Ko-fi</span>
                        </a>
                        <a href="https://ofuse.me/o?uid=116462" target="_blank" rel="noopener" class="support-btn ofuse-btn">
                            <span>OFUSEã§å¿œæ´</span>
                        </a>
                    </div>
                </li>
            </ul>
        </nav>
        <div class="header-support-links">
            <a href="https://ko-fi.com/X8X11KVU5K" target="_blank" rel="noopener" class="support-btn kofi-btn" title="Support on Ko-fi">
                <img src="images/icon/kofi-cup.webp" alt="Ko-fi" class="kofi-icon">
                <span>Ko-fi</span>
            </a>
            <a data-ofuse-widget-button href="https://ofuse.me/o?uid=116462" data-ofuse-id="116462" class="support-btn ofuse-btn" target="_blank" rel="noopener" title="OFUSEã§å¿œæ´">
                <span>OFUSE</span>
            </a>
        </div>
        <div class="language-selector-wrapper">
            <select class="language-selector" aria-label="Language"></select>
        </div>
        <button class="mobile-menu-btn" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
            <span></span><span></span><span></span>
        </button>
    </header>

    <main class="raid-main">
        <!-- ãƒ¬ã‚¤ãƒ‰ã‚¿ã‚¤ãƒ—ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ -->
        <section class="raid-type-selector">
            <div class="raid-type-tabs">
                <button class="raid-type-tab active" data-type="normal">
                    <span class="tab-icon">âš”ï¸</span>
                    <span class="tab-label" data-i18n="raid.title">ãƒ¬ã‚¤ãƒ‰</span>
                </button>
                <button class="raid-type-tab" data-type="unexpected">
                    <span class="tab-icon">âš¡</span>
                    <span class="tab-label" data-i18n="raid.unexpected">çªç™ºãƒ¬ã‚¤ãƒ‰</span>
                </button>
                <button class="raid-type-tab" data-type="world">
                    <span class="tab-icon">ğŸŒ</span>
                    <span class="tab-label" data-i18n="raid.world">ãƒ¯ãƒ¼ãƒ«ãƒ‰ãƒ¬ã‚¤ãƒ‰</span>
                </button>
            </div>
        </section>

        <!-- é€šå¸¸ãƒ¬ã‚¤ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <section id="normal-raid-section" class="raid-section">
            <!-- ãƒœã‚¹ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ -->
            <div class="boss-selector">
                <div class="boss-cards" id="boss-cards">
                    <!-- JSã§ç”Ÿæˆ -->
                </div>
            </div>

            <!-- ãƒœã‚¹è©³ç´°ã‚¨ãƒªã‚¢ -->
            <div class="boss-detail-area" id="boss-detail-area">
                <div class="boss-info">
                    <div class="boss-portrait">
                        <img id="boss-portrait-img" src="" alt="">
                    </div>
                    <div class="boss-text">
                        <h2 id="boss-name" class="boss-name"></h2>
                        <p id="boss-story" class="boss-story"></p>
                        <div class="boss-solution">
                            <h3 data-i18n="raid.hint">æ”»ç•¥ãƒ’ãƒ³ãƒˆ</h3>
                            <p id="boss-solution-text"></p>
                        </div>
                        <div class="boss-skills-section">
                            <h3 data-i18n="raid.bossSkills">ãƒœã‚¹ã‚¹ã‚­ãƒ«</h3>
                            <div class="boss-skills" id="boss-skills">
                                <!-- JSã§ç”Ÿæˆ -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- é›£æ˜“åº¦ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ -->
                <div class="difficulty-selector">
                    <h3 data-i18n="raid.difficultySelect">é›£æ˜“åº¦é¸æŠ</h3>
                    <div class="difficulty-grid" id="difficulty-grid">
                        <!-- JSã§ç”Ÿæˆ -->
                    </div>
                </div>

                <!-- ã‚¹ãƒ†ãƒ¼ã‚¸è©³ç´° -->
                <div class="stage-detail" id="stage-detail">
                    <div class="stage-header">
                        <h3 id="stage-title">é›£æ˜“åº¦ 1</h3>
                        <div class="stage-basic-info">
                            <span class="info-item"><span class="info-label" data-i18n="raid.stamina">æ¶ˆè²»ã‚¹ã‚¿ãƒŸãƒŠ</span><span id="stage-stamina">6</span></span>
                            <span class="info-item"><span class="info-label" data-i18n="raid.accountExp">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆçµŒé¨“å€¤</span><span id="stage-account-exp">60</span></span>
                            <span class="info-item"><span class="info-label" data-i18n="raid.heroExp">è‹±é›„çµŒé¨“å€¤</span><span id="stage-hero-exp">600</span></span>
                        </div>
                    </div>

                    <!-- æ•µã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
                    <div class="enemy-stats-section">
                        <h4 data-i18n="raid.bossStats">ãƒœã‚¹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h4>
                        <div class="enemy-stats" id="enemy-stats">
                            <!-- JSã§ç”Ÿæˆ -->
                        </div>
                    </div>

                    <!-- ã‚µãƒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç¢ºç‡ -->
                    <div class="sub-option-section" id="sub-option-section">
                        <h4 data-i18n="raid.subOptionProb">è£…å‚™ã‚µãƒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç¢ºç‡</h4>
                        <div class="sub-option-probs" id="sub-option-probs">
                            <!-- JSã§ç”Ÿæˆ -->
                        </div>
                    </div>

                    <!-- å ±é…¬ -->
                    <div class="rewards-section">
                        <h4 data-i18n="raid.rewards">ç²å¾—å¯èƒ½å ±é…¬</h4>
                        <div class="rewards-grid" id="rewards-grid">
                            <!-- JSã§ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ã‚µãƒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç¢ºç‡ä¸€è¦§ï¼ˆé€šå¸¸ãƒ¬ã‚¤ãƒ‰å°‚ç”¨ï¼‰ -->
            <div class="sub-option-table-section">
                <h3 data-i18n="raid.subOptionTable">ã‚µãƒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç¢ºç‡ä¸€è¦§ï¼ˆé›£æ˜“åº¦11ï½15ï¼‰</h3>
                <table class="sub-option-table">
                    <thead>
                        <tr>
                            <th data-i18n="raid.difficulty">é›£æ˜“åº¦</th>
                            <th data-i18n="raid.4options">4ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
                            <th data-i18n="raid.3options">3ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
                            <th data-i18n="raid.2options">2ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-i18n="raid.level11">11æ®µéš</td>
                            <td class="prob-4op">6%</td>
                            <td class="prob-3op">39%</td>
                            <td class="prob-2op">55%</td>
                        </tr>
                        <tr>
                            <td data-i18n="raid.level12">12æ®µéš</td>
                            <td class="prob-4op">7%</td>
                            <td class="prob-3op">53%</td>
                            <td class="prob-2op">40%</td>
                        </tr>
                        <tr>
                            <td data-i18n="raid.level13">13æ®µéš</td>
                            <td class="prob-4op">8%</td>
                            <td class="prob-3op">67%</td>
                            <td class="prob-2op">25%</td>
                        </tr>
                        <tr>
                            <td data-i18n="raid.level14">14æ®µéš</td>
                            <td class="prob-4op">9%</td>
                            <td class="prob-3op">81%</td>
                            <td class="prob-2op">10%</td>
                        </tr>
                        <tr class="highlight-row">
                            <td data-i18n="raid.level15">15æ®µéš</td>
                            <td class="prob-4op">10%</td>
                            <td class="prob-3op">90%</td>
                            <td class="prob-2op">-</td>
                        </tr>
                    </tbody>
                </table>
                <p class="table-note" data-i18n="raid.tableNote">â€» é›£æ˜“åº¦1ï½10ã§ã¯ã‚µãƒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç¢ºå®šãªã—ï¼ˆåŸºæœ¬å€¤ï¼‰</p>
            </div>
        </section>

        <!-- çªç™ºãƒ¬ã‚¤ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <section id="unexpected-raid-section" class="raid-section hidden">
            <div class="unexpected-raid-notice">
                <p data-i18n="raid.unexpectedNotice">âš¡ çªç™ºãƒ¬ã‚¤ãƒ‰ã¯é€šå¸¸ãƒ¬ã‚¤ãƒ‰ã‚¯ãƒªã‚¢ã§ç™ºç”Ÿã™ã‚‹ã‚µãƒ¼ãƒãƒ¼å…±æœ‰ãƒœã‚¹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã™</p>
            </div>
            
            <!-- ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦ -->
            <div class="unexpected-system-overview" id="unexpected-system-overview">
                <!-- JSã§ç”Ÿæˆ -->
            </div>

            <!-- ãƒœã‚¹ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ -->
            <div class="unexpected-boss-cards" id="unexpected-boss-cards">
                <!-- JSã§ç”Ÿæˆ -->
            </div>

            <!-- ãƒœã‚¹è©³ç´° -->
            <div class="unexpected-boss-detail" id="unexpected-boss-detail">
                <!-- JSã§ç”Ÿæˆ -->
            </div>

            <!-- å ±é…¬ã‚·ã‚¹ãƒ†ãƒ  -->
            <div class="unexpected-reward-system" id="unexpected-reward-system">
                <!-- JSã§ç”Ÿæˆ -->
            </div>
        </section>

        <!-- ãƒ¯ãƒ¼ãƒ«ãƒ‰ãƒ¬ã‚¤ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <section id="world-raid-section" class="raid-section hidden">
            <div class="world-raid-notice">
                <p data-i18n="raid.worldNotice">âš ï¸ ãƒ¯ãƒ¼ãƒ«ãƒ‰ãƒ¬ã‚¤ãƒ‰ã¯æœŸé–“é™å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã™</p>
            </div>
            
            <div class="world-boss-cards" id="world-boss-cards">
                <!-- JSã§ç”Ÿæˆ -->
            </div>

            <div class="world-raid-detail" id="world-raid-detail">
                <!-- JSã§ç”Ÿæˆ -->
            </div>
        </section>


    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p class="footer-logo">
                    <span class="logo-seven">Seven</span>
                    <span class="logo-knights">Knights</span>
                    <span class="logo-rebirth">Re:Birth</span>
                    <span class="logo-wiki">Wiki</span>
                </p>
                <!-- Footer Support Links (visible on mobile) -->
                <div class="footer-support-links">
                    <a href="https://ko-fi.com/X8X11KVU5K" target="_blank" rel="noopener" class="support-btn kofi-btn">
                        <img src="images/icon/kofi-cup.webp" alt="Ko-fi" class="kofi-icon">
                        <span>Ko-fi</span>
                    </a>
                    <a href="https://ofuse.me/o?uid=116462" target="_blank" rel="noopener" class="support-btn ofuse-btn">
                        <span>OFUSEã§å¿œæ´</span>
                    </a>
                </div>
                <p class="footer-disclaimer" data-i18n="footer.disclaimer">ã“ã®ã‚µã‚¤ãƒˆã¯éå…¬å¼ã®ãƒ•ã‚¡ãƒ³ã‚µã‚¤ãƒˆã§ã™ã€‚<br>ã‚²ãƒ¼ãƒ ã®è‘—ä½œæ¨©ã¯Netmarble Corp.ã«å¸°å±ã—ã¾ã™ã€‚</p>
                <p class="footer-copyright">Â© 2025-2026 Seven Knights Re:Birth Unofficial Wiki</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="raid.js"></script>

    <!-- PWA Install Banner -->
    <div id="pwa-install-banner" class="pwa-install-banner" role="alert">
        <img src="images/icon/rogo.webp" alt="" class="pwa-install-banner-icon">
        <div class="pwa-install-banner-text">
            <div class="pwa-install-banner-title" data-i18n="pwa.install.title">ã‚¢ãƒ—ãƒªã¨ã—ã¦è¿½åŠ </div>
            <div class="pwa-install-banner-desc" data-i18n="pwa.install.desc">ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã—ã¦ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚åˆ©ç”¨</div>
        </div>
        <button id="pwa-install-btn" class="pwa-install-btn" data-i18n="pwa.install.button">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</button>
        <button id="pwa-install-dismiss" class="pwa-install-dismiss" aria-label="Close">âœ•</button>
    </div>

    <!-- Rotation Lock Overlay (PWA standalone mode only) -->
    <div class="rotation-lock-overlay" id="rotation-lock-overlay">
        <div class="rotate-icon">ğŸ“±</div>
        <div class="rotate-text" data-i18n="pwa.rotate.text">ç¸¦ç”»é¢ã§ã”åˆ©ç”¨ãã ã•ã„</div>
    </div>

    <script>
    // PWA Install Promotion
    (function() {
        let deferredPrompt = null;
        const banner = document.getElementById('pwa-install-banner');
        const installBtn = document.getElementById('pwa-install-btn');
        const dismissBtn = document.getElementById('pwa-install-dismiss');
        if (!banner || !installBtn || !dismissBtn) return;
        const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;
        if (isStandalone) return;
        const dismissed = localStorage.getItem('pwa_install_dismissed');
        if (dismissed && (Date.now() - parseInt(dismissed)) < 7 * 24 * 60 * 60 * 1000) return;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            setTimeout(() => { if (deferredPrompt) banner.classList.add('visible'); }, 30000);
        });
        installBtn.addEventListener('click', async () => {
            if (!deferredPrompt) return;
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            deferredPrompt = null;
            banner.classList.remove('visible');
        });
        dismissBtn.addEventListener('click', () => {
            banner.classList.remove('visible');
            localStorage.setItem('pwa_install_dismissed', Date.now().toString());
        });
        window.addEventListener('appinstalled', () => {
            banner.classList.remove('visible');
            deferredPrompt = null;
        });
    })();
    // Screen Orientation Lock (PWA standalone mode)
    (function() {
        const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;
        if (!isStandalone) return;
        if (screen.orientation && screen.orientation.lock) {
            screen.orientation.lock('portrait').catch(() => {});
        }
    })();
    </script>
</body>
</html>
