<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>オンライン便利ツール集 - 日常作業を効率化 | negi-lab.com</title>
  <meta name="description" content="プライバシー重視のブラウザ完結型ツール集。QRコード生成、画像変換、単位換算など、専門的な機能を誰でも簡単に利用できます。技術解説と実用ガイド付きで安心してお使いいただけます。">
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Inline Portal Translations -->
  <script>
    window.portalTranslations = {
      ja: {
        // Page Meta
        "page.title": "オンライン便利ツール集 - 日常作業を効率化 | negi-lab.com",
        "meta.description": "プライバシー重視のブラウザ完結型ツール集。QRコード生成、画像変換、単位換算など、専門的な機能を誰でも簡単に利用できます。技術解説と実用ガイド付きで安心してお使いいただけます。",

        // Header & Navigation
        "header.nav.tools": "ツール",
        "header.nav.wikis": "ゲームWiki",
        "header.guide": "ガイド",
        "option.ja": "日本語",
        "option.en": "English",

        // Hero Section
        "hero.title_html": "毎日に<b class=\"text-accent\">\"ちょうどいい\"</b>便利さと<br>楽しさを。",
        "hero.subtitle_html": "negi-lab.comは、<b class=\"text-accent\">作業効率化</b>や<b class=\"text-accent\">ちょっとした手助け</b>がほしい人、<br><b class=\"text-accent\">ゲームを深く楽しみたい人</b>に向けた<br class=\"hidden md:inline\">ウェブツール＆情報サービスのポータルです。",
        "hero.cta": "ツールを使ってみる",

        // Tools Section
        "tools.sectionTitle": "便利ツール集",
        "tools.sectionDescription": "日常の作業を効率化する、シンプルで使いやすいウェブツール",
      },
      en: {
        // Page Meta
        "page.title": "Online Utility Tools - Streamline Your Daily Tasks | negi-lab.com",
        "meta.description": "Privacy-focused browser-based utility tools. QR code generation, image conversion, unit conversion, and more. Advanced features made simple for everyone, with technical guides for peace of mind.",

        // Header & Navigation
        "header.nav.tools": "Tools",
        "header.nav.wikis": "Game Wikis",
        "header.guide": "Guide",
        "option.ja": "日本語",
        "option.en": "English",

        // Hero Section
        "hero.title_html": "\"Just Right\" <b class=\"text-accent\">Convenience</b> and<br><b class=\"text-accent\">Fun</b> for Every Day.",
        "hero.subtitle_html": "negi-lab.com is a portal for <b class=\"text-accent\">web tools & information services</b><br>designed for people who want <b class=\"text-accent\">work efficiency</b> or <b class=\"text-accent\">a little help</b>,<br class=\"hidden md:inline\">and for those who want to <b class=\"text-accent\">enjoy games deeply</b>.",
        "hero.cta": "Try the Tools",

        // Tools Section
        "tools.sectionTitle": "Utility Tools Collection",
        "tools.sectionDescription": "Simple and user-friendly web tools to streamline your daily tasks",
      }
    };

    // Set window.translations for compatibility
    window.translations = window.portalTranslations;
  </script>

  <!-- Inline Translation System -->
  <script>
    // Translation system function
    function applyTranslations(lang) {
      console.log(`Applying translations for language: ${lang}`);
      
      if (!window.translations || !window.translations[lang]) {
        console.warn(`Translations not available for language: ${lang}`);
        return;
      }

      const translations = window.translations[lang];
      console.log(`Found ${Object.keys(translations).length} translation keys`);

      // Handle regular data-translate-key elements
      const regularElements = document.querySelectorAll('[data-translate-key]');
      console.log(`Found ${regularElements.length} elements with data-translate-key`);
      
      regularElements.forEach(element => {
        const key = element.getAttribute('data-translate-key');
        if (translations[key]) {
          element.textContent = translations[key];
        } else {
          console.warn(`Translation key not found: ${key}`);
        }
      });

      // Handle HTML content with data-translate-html-key
      const htmlElements = document.querySelectorAll('[data-translate-html-key]');
      console.log(`Found ${htmlElements.length} elements with data-translate-html-key`);
      
      htmlElements.forEach(element => {
        const key = element.getAttribute('data-translate-html-key');
        if (translations[key]) {
          element.innerHTML = translations[key];
        } else {
          console.warn(`Translation HTML key not found: ${key}`);
        }
      });

      // Update document language
      document.documentElement.lang = lang;
      
      // Update meta description
      const metaDescription = document.querySelector('meta[name="description"]');
      if (metaDescription && translations['meta.description']) {
        metaDescription.setAttribute('content', translations['meta.description']);
      }

      // Update page title
      if (translations['page.title']) {
        document.title = translations['page.title'];
      }

      console.log(`Translation application completed for ${lang}`);
    }

    // Language switching function
    function switchLanguage(lang) {
      console.log(`Language switch requested: ${lang}`);
      
      // Save to localStorage
      try {
        localStorage.setItem('preferredLanguage', lang);
        console.log(`Language preference saved to localStorage: ${lang}`);
      } catch (e) {
        console.warn('Could not save language preference to localStorage:', e);
      }

      // Apply translations
      applyTranslations(lang);
      
      // Update UI
      updateLanguageUI(lang);
    }

    // Update language UI elements
    function updateLanguageUI(lang) {
      const languageButtons = document.querySelectorAll('[data-lang]');
      languageButtons.forEach(btn => {
        if (btn.dataset.lang === lang) {
          btn.classList.add('bg-accent', 'text-white');
          btn.classList.remove('bg-gray-200', 'text-gray-700');
        } else {
          btn.classList.remove('bg-accent', 'text-white');
          btn.classList.add('bg-gray-200', 'text-gray-700');
        }
      });
    }

    // Initialize on DOM load
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM loaded, initializing translation system...');
      
      // Get saved language or default to Japanese
      let currentLanguage = 'ja';
      try {
        const saved = localStorage.getItem('preferredLanguage');
        if (saved && ['ja', 'en'].includes(saved)) {
          currentLanguage = saved;
          console.log(`Loaded saved language preference: ${currentLanguage}`);
        }
      } catch (e) {
        console.warn('Could not access localStorage:', e);
      }

      // Apply initial translations
      applyTranslations(currentLanguage);
      updateLanguageUI(currentLanguage);

      console.log('Translation system initialized successfully');
    });
  </script>

  <style>
    /* Custom accent color */
    .text-accent { color: #3b82f6; }
    .bg-accent { background-color: #3b82f6; }
    .border-accent { border-color: #3b82f6; }
    .hover-accent-light:hover { background-color: rgba(59, 130, 246, 0.1); }
  </style>
</head>

<body class="bg-gray-50 text-gray-800 font-inter min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-white/90 backdrop-blur border-b sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-4">
        <h1 class="text-2xl font-bold text-accent">negi-lab.com</h1>
        
        <!-- Language Switcher -->
        <div class="flex items-center space-x-2">
          <span class="text-sm text-gray-600 mr-2">Language:</span>
          <button 
            data-lang="ja" 
            onclick="switchLanguage('ja')"
            class="px-3 py-1 rounded text-sm font-medium transition bg-accent text-white"
            data-translate-key="option.ja">
            日本語
          </button>
          <button 
            data-lang="en" 
            onclick="switchLanguage('en')"
            class="px-3 py-1 rounded text-sm font-medium transition bg-gray-200 text-gray-700"
            data-translate-key="option.en">
            English
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-1">
    <!-- Hero Section -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center">
      <h2 class="text-4xl md:text-5xl font-bold mb-6 leading-tight" data-translate-html-key="hero.title_html">
        毎日に<b class="text-accent">"ちょうどいい"</b>便利さと<br>楽しさを。
      </h2>
      <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed" data-translate-html-key="hero.subtitle_html">
        negi-lab.comは、<b class="text-accent">作業効率化</b>や<b class="text-accent">ちょっとした手助け</b>がほしい人、<br><b class="text-accent">ゲームを深く楽しみたい人</b>に向けた<br class="hidden md:inline">ウェブツール＆情報サービスのポータルです。
      </p>
      <button class="bg-accent text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-blue-600 transition" data-translate-key="hero.cta">
        ツールを使ってみる
      </button>
    </section>

    <!-- Tools Section -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <h2 class="text-3xl font-bold text-center mb-4" data-translate-key="tools.sectionTitle">便利ツール集</h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto" data-translate-key="tools.sectionDescription">
        日常の作業を効率化する、シンプルで使いやすいウェブツール
      </p>

      <!-- Simple tool cards for testing -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="bg-white rounded-lg p-6 shadow-md">
          <h3 class="text-xl font-semibold mb-2">単位変換ツール</h3>
          <p class="text-gray-600 mb-4">500以上の単位に対応した高精度変換ツール</p>
          <button class="text-accent hover:underline font-semibold">開く</button>
        </div>

        <div class="bg-white rounded-lg p-6 shadow-md">
          <h3 class="text-xl font-semibold mb-2">画像変換ツール</h3>
          <p class="text-gray-600 mb-4">JPEG・PNG・WebP形式の高品質変換機能</p>
          <button class="text-accent hover:underline font-semibold">開く</button>
        </div>

        <div class="bg-white rounded-lg p-6 shadow-md">
          <h3 class="text-xl font-semibold mb-2">QRコード作成</h3>
          <p class="text-gray-600 mb-4">高品質QRコード生成エンジンによる即座の生成</p>
          <button class="text-accent hover:underline font-semibold">開く</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-100 py-8 mt-auto">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <p class="text-gray-600">© 2024 negi-lab.com. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>
