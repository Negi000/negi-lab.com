<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>外部Wikiへリダイレクト中… | Negi-lab.com</title>
  <meta name="robots" content="noindex,nofollow">
  <meta name="description" content="外部Wikiへ安全にリダイレクトしています。Amazon・楽天アフィリエイトCookieを埋め込みます。">
  <link rel="canonical" href="https://negi-lab.com/wiki-redirect.html">
  <style>
    body { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; font-family: system-ui,sans-serif; background: #f8fafc; color: #222; }
    .loader { margin: 2rem 0; border: 4px solid #eee; border-top: 4px solid #38bdf8; border-radius: 50%; width: 48px; height: 48px; animation: spin 1s linear infinite; }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    .notice { font-size: 1.1rem; margin-top: 1.5rem; }
    .skip { margin-top: 2rem; }
  </style>
</head>
<body>
  <h1>外部Wikiへリダイレクト中…</h1>
  <div class="loader" aria-label="読み込み中"></div>
  <div class="notice">Amazon・楽天アフィリエイトCookieを埋め込んでから目的のWikiへ自動遷移します。<br>5秒経っても遷移しない場合は下記ボタンを押してください。</div>
  <div class="skip"><a id="skipLink" href="#">今すぐWikiへ移動</a></div>
  <!-- AmazonアフィリエイトCookie埋め込み -->
  <img src="https://www.amazon.co.jp/assoc-redirect?tag=あなたのアソシエイトID-22" width="1" height="1" style="display:none" alt="Amazon Cookie" loading="eager">
  <!-- 楽天アフィリエイトCookie埋め込み -->
  <img src="https://hb.afl.rakuten.co.jp/hgc/あなたの楽天アフィリエイトID.gif" width="1" height="1" style="display:none" alt="Rakuten Cookie" loading="eager">
  <script>
    // クエリから遷移先URL取得
    function getParam(name) {
      const m = location.search.match(new RegExp('(?:[?&]' + name + '=)([^&]+)'));
      return m ? decodeURIComponent(m[1]) : null;
    }
    const targetUrl = getParam('url');
    if(targetUrl) {
      document.getElementById('skipLink').href = targetUrl;
      setTimeout(function() {
        window.location.href = targetUrl;
      }, 1800); // 1.8秒後に自動遷移（Cookie埋め込み猶予）
    } else {
      document.querySelector('.notice').textContent = '遷移先URLが指定されていません。';
      document.getElementById('skipLink').style.display = 'none';
    }
  </script>
</body>
</html>
