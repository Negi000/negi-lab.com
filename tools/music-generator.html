<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Content Security Policy -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self'; 
    script-src 'self' 'unsafe-inline' 'unsafe-eval' 
      https://cdn.tailwindcss.com 
      https://pagead2.googlesyndication.com 
      https://www.googletagmanager.com; 
    style-src 'self' 'unsafe-inline' 
      https://fonts.googleapis.com 
      https://cdn.tailwindcss.com; 
    font-src 'self' 
      https://fonts.gstatic.com; 
    img-src 'self' data: blob:; 
    connect-src 'self' 
      https://www.google-analytics.com; 
    object-src 'none'; 
    base-uri 'self';
  " />
  
  <!-- Security Headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
  
  <title data-translate-key="musicGenerator.pageTitle">【無料】アルゴリズム音楽生成ツール - プロ品質BGM作成・ループ対応 | negi-lab.com</title>
  <meta name="description" data-translate-key="musicGenerator.metaDescription" content="高品質なアルゴリズム技術でプロレベルのBGM・音楽を瞬時に生成。ゲーム開発・動画制作・プレゼンテーション用途に最適化。ループ対応、多楽器編成、商用利用可能な音楽生成ツール。" />
  <meta property="og:title" content="【無料】アルゴリズム音楽生成ツール - プロ品質BGM作成・ループ対応 | negi-lab.com" />
  <meta property="og:description" content="高品質なアルゴリズム技術でプロレベルのBGM・音楽を瞬時に生成。ゲーム開発・動画制作・プレゼンテーション用途に最適化。" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://negi-lab.com/tools/music-generator.html" />
  <meta name="robots" content="index,follow" />
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" crossorigin="anonymous" />
  <script src="https://cdn.tailwindcss.com?v=3.4.0"></script>
  
  <!-- Security and Common Utilities -->
  <script src="../js/security-utils.js"></script>
  <script src="../js/common-utils.js"></script>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { negi: "#65c155", accent: "#4ADE80" },
          fontFamily: { inter: ["Inter", "sans-serif"] }
        }
      }
    }
    window.pageTitleTranslationKey = "musicGenerator.pageTitle";
    window.metaDescriptionTranslationKey = "musicGenerator.metaDescription";
  </script>
  
  <!-- Custom Styles -->
  <style>
    .form-input, .form-select, .form-button, .form-range {
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 0.375rem;
      box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      transition: box-shadow 0.2s;
    }
    
    .form-input:focus, .form-select:focus, .form-button:focus, .form-range:focus {
      outline: none;
      box-shadow: 0 0 0 2px #4ADE80;
      border-color: #4ADE80;
    }
    
    .form-button {
      background: #4ADE80;
      color: #fff;
      transition: background 0.15s, color 0.15s;
    }
    
    .form-button:hover:not(:disabled) {
      background: #10b981;
    }
    
    .form-button:disabled {
      background: #d1d5db;
      color: #9ca3af;
      cursor: not-allowed;
    }
    
    .preset-card {
      border: 1px solid #e5e7eb;
      border-radius: 0.75rem;
      padding: 1rem;
      background: #f9fafb;
      transition: all 0.2s;
      cursor: pointer;
    }
    
    .preset-card:hover {
      border-color: #4ADE80;
      background: rgba(74, 222, 128, 0.05);
      transform: translateY(-1px);
    }
    
    .preset-card.selected {
      border-color: #4ADE80;
      background: rgba(74, 222, 128, 0.1);
    }
    
    .control-button {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      border: none;
      cursor: pointer;
    }
    
    .control-button:hover:not(:disabled) {
      transform: scale(1.05);
    }
    
    .control-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .waveform-container {
      background: #1a1a1a;
      border-radius: 0.5rem;
      padding: 1rem;
      margin: 1rem 0;
    }
    
    .progress-bar {
      background: linear-gradient(90deg, #4ADE80 0%, #22c55e 100%);
      height: 4px;
      border-radius: 2px;
      transition: width 0.3s ease;
    }
    
    .message {
      padding: 1rem;
      border-radius: 0.5rem;
      margin: 1rem 0;
      font-weight: 500;
    }
    
    .message.success {
      background: rgba(34, 197, 94, 0.1);
      border: 1px solid #22c55e;
      color: #16a34a;
    }
    
    .message.error {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid #ef4444;
      color: #dc2626;
    }
    
    .message.info {
      background: rgba(59, 130, 246, 0.1);
      border: 1px solid #3b82f6;
      color: #2563eb;
    }
    
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .modal-content {
      background: white;
      border-radius: 1rem;
      padding: 2rem;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      margin: 1rem;
    }
  </style>
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1835873052239386" crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N9X3N0RY0H"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N9X3N0RY0H');
  </script>
</head>

<body class="bg-gray-50 text-gray-800 font-inter min-h-screen flex flex-col">
  <div id="message-area" class="message" style="display: none;"></div>

  <!-- Header -->
  <header class="bg-white shadow-md">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center max-w-6xl">
      <a href="/" class="text-2xl font-bold text-accent">negi-lab.com</a>
      <nav class="flex items-center gap-4">
        <a href="/#tools" class="text-gray-600 hover:text-accent transition">ツール</a>
        <a href="/#wikis" class="text-gray-600 hover:text-accent transition">ゲームWiki</a>
        <select id="lang-switch" class="form-select text-sm">
          <option value="ja">日本語</option>
          <option value="en">English</option>
        </select>
        <button id="guide-btn" class="form-button px-3 py-1 text-sm">ガイド</button>
      </nav>
    </div>
  </header>

  <main class="flex-grow">
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-accent/10 via-white to-blue-50 py-16">
      <div class="container mx-auto px-4 text-center max-w-4xl">
        <h1 class="text-4xl md:text-5xl font-bold mb-6 text-gray-900" data-translate-key="musicGenerator.title">
          アルゴリズム音楽生成ツール
        </h1>
        <p class="text-xl text-gray-700 mb-4" data-translate-key="musicGenerator.subtitle">
          プロ品質のBGM・音楽を瞬時に生成
        </p>
        <p class="text-lg text-gray-600 mb-8" data-translate-key="musicGenerator.description">
          高品質なAI技術で、ゲーム開発・動画制作・プレゼンテーション用のBGMを簡単に作成。ループ対応で用途に応じた音楽を生成します。
        </p>
      </div>
    </section>

    <!-- Main Tool Section -->
    <section class="container mx-auto px-4 py-8 max-w-6xl">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <!-- Left Column: Settings -->
        <div class="lg:col-span-2 space-y-6">
          
          <!-- Presets Section -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h2 class="text-2xl font-bold mb-4 text-gray-900">用途別プリセット</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
              <div class="preset-card text-center" data-preset="youtube">
                <svg class="w-8 h-8 mx-auto mb-2 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
                <div class="text-sm font-medium">YouTube動画</div>
              </div>
              <div class="preset-card text-center" data-preset="game">
                <svg class="w-8 h-8 mx-auto mb-2 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
                <div class="text-sm font-medium">ゲーム背景</div>
              </div>
              <div class="preset-card text-center" data-preset="presentation">
                <svg class="w-8 h-8 mx-auto mb-2 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M19 3H5c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h4l-1 2v1h8v-1l-1-2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H5V5h14v11z"/>
                </svg>
                <div class="text-sm font-medium">プレゼンテーション</div>
              </div>
              <div class="preset-card text-center" data-preset="podcast">
                <svg class="w-8 h-8 mx-auto mb-2 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
                <div class="text-sm font-medium">ポッドキャスト</div>
              </div>
            </div>
          </div>

          <!-- Generation Settings -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h2 class="text-2xl font-bold mb-6 text-gray-900">音楽生成設定</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Genre -->
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">ジャンル</label>
                <select id="genre-select" class="form-select w-full">
                  <option value="ambient">アンビエント</option>
                  <option value="classical">クラシック</option>
                  <option value="electronic">エレクトロニック</option>
                  <option value="jazz">ジャズ</option>
                  <option value="rock">ロック</option>
                  <option value="pop">ポップ</option>
                  <option value="cinematic">シネマティック</option>
                  <option value="gameMusic">ゲーム音楽</option>
                </select>
              </div>

              <!-- Mood -->
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">ムード・感情</label>
                <select id="mood-select" class="form-select w-full">
                  <option value="calm">穏やか</option>
                  <option value="happy">ハッピー</option>
                  <option value="sad">悲しい</option>
                  <option value="energetic">エネルギッシュ</option>
                  <option value="mysterious">神秘的</option>
                  <option value="dramatic">ドラマティック</option>
                  <option value="epic">エピック</option>
                  <option value="peaceful">平和的</option>
                </select>
              </div>

              <!-- Tempo -->
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">テンポ (BPM)</label>
                <select id="tempo-select" class="form-select w-full">
                  <option value="slow">ゆっくり (60-80)</option>
                  <option value="medium">普通 (80-120)</option>
                  <option value="fast">速い (120-160)</option>
                  <option value="veryFast">とても速い (160+)</option>
                </select>
              </div>

              <!-- Duration -->
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">長さ</label>
                <select id="duration-select" class="form-select w-full">
                  <option value="short">短い (30秒)</option>
                  <option value="medium">普通 (1分)</option>
                  <option value="long">長い (2分)</option>
                  <option value="extended">拡張 (3分)</option>
                </select>
              </div>
            </div>

            <!-- Instruments -->
            <div class="mt-6">
              <label class="block text-sm font-medium text-gray-700 mb-3">楽器編成</label>
              <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                <label class="flex items-center">
                  <input type="checkbox" class="instrument-checkbox mr-2" value="piano" checked>
                  <span>ピアノ</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" class="instrument-checkbox mr-2" value="guitar">
                  <span>ギター</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" class="instrument-checkbox mr-2" value="strings" checked>
                  <span>ストリングス</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" class="instrument-checkbox mr-2" value="synthesizer" checked>
                  <span>シンセサイザー</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" class="instrument-checkbox mr-2" value="drums">
                  <span>ドラム</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" class="instrument-checkbox mr-2" value="bass">
                  <span>ベース</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" class="instrument-checkbox mr-2" value="orchestral">
                  <span>オーケストラ</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" class="instrument-checkbox mr-2" value="electronic">
                  <span>エレクトロニック</span>
                </label>
              </div>
            </div>

            <!-- Loop Setting -->
            <div class="mt-6">
              <label class="flex items-center">
                <input type="checkbox" id="loop-checkbox" class="mr-3" checked>
                <span class="text-sm font-medium text-gray-700">ループBGMとして生成</span>
              </label>
            </div>

            <!-- Advanced Settings Toggle -->
            <div class="mt-6">
              <button id="advanced-toggle" class="text-accent hover:text-accent/80 text-sm font-medium">
                詳細設定を表示
              </button>
              
              <div id="advanced-settings" style="display: none;" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Volume -->
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">音量</label>
                  <input type="range" id="volume-range" class="form-range w-full" min="0" max="1" step="0.1" value="0.7">
                </div>

                <!-- Complexity -->
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">複雑さ</label>
                  <select id="complexity-select" class="form-select w-full">
                    <option value="simple">シンプル</option>
                    <option value="moderate">適度</option>
                    <option value="complex">複雑</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Generate Button -->
          <div class="text-center">
            <button id="generate-btn" class="form-button px-8 py-3 text-lg font-bold rounded-xl shadow-lg transform transition hover:scale-105">
              音楽を生成
            </button>
          </div>

          <!-- Progress -->
          <div id="progress-area" class="bg-white rounded-xl shadow-sm p-6" style="display: none;">
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm font-medium text-gray-700">生成中...</span>
              <span id="progress-text" class="text-sm text-gray-500">初期化中...</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div id="progress-bar" class="progress-bar rounded-full" style="width: 0%"></div>
            </div>
          </div>
        </div>

        <!-- Right Column: Preview & Controls -->
        <div class="space-y-6">
          
          <!-- Music Preview -->
          <div id="preview-area" class="bg-white rounded-xl shadow-sm p-6" style="display: none;">
            <h3 class="text-xl font-bold mb-4 text-gray-900">生成された音楽</h3>
            
            <!-- Waveform -->
            <div class="waveform-container mb-4">
              <canvas id="waveform-canvas" width="300" height="100"></canvas>
            </div>

            <!-- Playback Controls -->
            <div class="flex items-center gap-4 mb-4">
              <button id="play-btn" class="control-button bg-accent text-white" title="再生" aria-label="音楽を再生">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M8 5v14l11-7z"/>
                </svg>
              </button>
              <button id="pause-btn" class="control-button bg-accent text-white" style="display: none;" title="一時停止" aria-label="音楽を一時停止">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                </svg>
              </button>
              <button id="stop-btn" class="control-button bg-gray-500 text-white" title="停止" aria-label="音楽を停止">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M6 6h12v12H6z"/>
                </svg>
              </button>
              
              <div class="flex-1">
                <div class="bg-gray-200 rounded-full h-1">
                  <div id="playback-progress" class="progress-bar rounded-full h-1" style="width: 0%"></div>
                </div>
                <div class="flex justify-between text-xs text-gray-500 mt-1">
                  <span id="current-time">0:00</span>
                  <span id="duration">0:00</span>
                </div>
              </div>
            </div>

            <!-- Metadata -->
            <div class="p-4 bg-gray-50 rounded-lg text-sm">
              <div class="grid grid-cols-2 gap-2">
                <div><strong>長さ:</strong> <span id="metadata-duration">-</span></div>
                <div><strong>テンポ:</strong> <span id="metadata-tempo">-</span></div>
                <div><strong>調:</strong> <span id="metadata-key">-</span></div>
                <div><strong>生成日時:</strong> <span id="metadata-generated">-</span></div>
              </div>
            </div>
          </div>

          <!-- Download -->
          <div id="download-area" class="bg-white rounded-xl shadow-sm p-6" style="display: none;">
            <h3 class="text-xl font-bold mb-4 text-gray-900">ダウンロード</h3>
            
            <div class="mb-4">
              <select id="download-format" class="form-select w-full">
                <option value="wav">WAV (高音質)</option>
                <option value="mp3">MP3 (推奨)</option>
              </select>
            </div>
            
            <button id="download-btn" class="form-button w-full py-3 font-bold">
              ダウンロード
            </button>
          </div>

          <!-- Features -->
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="text-xl font-bold mb-4 text-gray-900">主な機能</h3>
            <ul class="space-y-2 text-sm text-gray-600">
              <li class="flex items-center">
                <svg class="w-4 h-4 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                リアルタイム生成
              </li>
              <li class="flex items-center">
                <svg class="w-4 h-4 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                プロ品質の音質
              </li>
              <li class="flex items-center">
                <svg class="w-4 h-4 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                多楽器対応
              </li>
              <li class="flex items-center">
                <svg class="w-4 h-4 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                ループBGM対応
              </li>
              <li class="flex items-center">
                <svg class="w-4 h-4 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                商用利用可能
              </li>
              <li class="flex items-center">
                <svg class="w-4 h-4 text-accent mr-2" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                登録不要
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="bg-gradient-to-br from-blue-50 to-indigo-100 py-16">
      <div class="container mx-auto px-4 max-w-6xl">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-gray-800 mb-4">音楽生成ツールの実用的な活用事例</h2>
          <p class="text-gray-600 text-lg max-w-3xl mx-auto">
            ゲーム開発・動画制作・プレゼンテーション・コンテンツ制作での具体的な活用シーンをご紹介します。
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Game Development -->
          <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
            <div class="flex items-center mb-4">
              <div class="bg-blue-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-800">ゲーム開発</h3>
            </div>
            <ul class="space-y-3 text-gray-600">
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>背景音楽（BGM）：</strong>ゲーム各ステージに適したムード・テンポの音楽生成</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>ループ音楽：</strong>途切れのないシームレスなBGMでゲーム体験向上</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>ジャンル対応：</strong>RPG・アクション・パズルゲーム各ジャンルに最適化</span>
              </li>
            </ul>
          </div>

          <!-- Video Production -->
          <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
            <div class="flex items-center mb-4">
              <div class="bg-red-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-red-600" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-800">動画制作</h3>
            </div>
            <ul class="space-y-3 text-gray-600">
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>YouTube・SNS動画：</strong>著作権フリーのオリジナル音楽で安全な動画投稿</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>商品紹介・解説動画：</strong>内容に合わせたムード設定で視聴者エンゲージメント向上</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>イントロ・アウトロ音楽：</strong>ブランドイメージに合った印象的な楽曲制作</span>
              </li>
            </ul>
          </div>

          <!-- Business Presentation -->
          <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
            <div class="flex items-center mb-4">
              <div class="bg-green-100 p-3 rounded-lg mr-4">
                <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M19 3H5c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h4l-1 2v1h8v-1l-1-2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H5V5h14v11z"/>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-800">ビジネス・プレゼンテーション</h3>
            </div>
            <ul class="space-y-3 text-gray-600">
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>企業プレゼン：</strong>会議・セミナーでの集中力向上とプロフェッショナルな演出</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>製品デモ：</strong>商品魅力を引き立てる効果的なBGM選択</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span><strong>オンライン会議：</strong>待機時間・休憩時間の雰囲気作り</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Technical Features Section -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4 max-w-6xl">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-gray-800 mb-4">negi-lab.com独自の技術革新</h2>
          <p class="text-gray-600 text-lg max-w-3xl mx-auto">
            最先端AI技術と音楽理論を融合した、業界最高レベルの音楽生成システムを独自開発。
          </p>
        </div>

        <div class="grid md:grid-cols-2 gap-12 items-center">
          <div>
            <h3 class="text-2xl font-bold text-gray-800 mb-6">高度なアルゴリズム音楽エンジン</h3>
            <div class="space-y-4">
              <div class="flex items-start">
                <div class="bg-accent text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-4 mt-1">1</div>
                <div>
                  <h4 class="font-semibold text-gray-800">高度な音楽理論解析</h4>
                  <p class="text-gray-600">和声進行・旋律構造・リズムパターンを数学的にモデル化</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="bg-accent text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-4 mt-1">2</div>
                <div>
                  <h4 class="font-semibold text-gray-800">リアルタイム楽器合成</h4>
                  <p class="text-gray-600">各楽器の音響特性を精密に再現するシンセシス技術</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="bg-accent text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-4 mt-1">3</div>
                <div>
                  <h4 class="font-semibold text-gray-800">感情的表現制御</h4>
                  <p class="text-gray-600">ムード設定に基づく動的な音楽表現・強弱制御</p>
                </div>
              </div>
            </div>
          </div>
          
          <div class="bg-gray-50 rounded-xl p-8">
            <h4 class="text-xl font-bold text-gray-800 mb-4">技術仕様・アルゴリズム詳細</h4>
            <div class="grid grid-cols-2 gap-4 text-sm mb-6">
              <div>
                <div class="font-semibold text-gray-700">音質</div>
                <div class="text-gray-600">48kHz/16bit</div>
              </div>
              <div>
                <div class="font-semibold text-gray-700">対応形式</div>
                <div class="text-gray-600">WAV, MP3</div>
              </div>
              <div>
                <div class="font-semibold text-gray-700">楽器数</div>
                <div class="text-gray-600">最大8楽器同時</div>
              </div>
              <div>
                <div class="font-semibold text-gray-700">生成時間</div>
                <div class="text-gray-600">平均3-5秒</div>
              </div>
              <div>
                <div class="font-semibold text-gray-700">音楽長</div>
                <div class="text-gray-600">30秒-3分</div>
              </div>
              <div>
                <div class="font-semibold text-gray-700">商用利用</div>
                <div class="text-gray-600">完全無料</div>
              </div>
            </div>
            
            <div class="border-t pt-4">
              <h5 class="font-semibold text-gray-700 mb-2">アルゴリズム音楽生成について</h5>
              <p class="text-gray-600 text-sm leading-relaxed">
                このツールは<strong>アルゴリズムベース</strong>の音楽生成システムです。機械学習（AI）ではなく、
                音楽理論に基づいた決定的なルールとランダム要素を組み合わせて楽曲を生成します。
                ジャンル・ムード・楽器設定に応じて、コード進行、メロディ、テンポが
                多様なバリエーションで生成されるため、同じ設定でも毎回異なる音楽をお楽しみいただけます。
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Guide Modal -->
  <div id="guide-modal" class="modal">
    <div class="modal-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-gray-900">音楽生成ツール使い方ガイド</h2>
        <button id="close-guide" class="text-gray-500 hover:text-gray-700">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <div class="space-y-6" id="guide-modal-content">
        <div class="flex items-start space-x-4">
          <div class="flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold">1</div>
          <div>
            <h3 class="font-semibold text-gray-900 mb-2">ジャンルとムードを選択</h3>
            <p class="text-gray-600">作りたい音楽のジャンルと感情を選択します。これが音楽の基本的な方向性を決定します。</p>
          </div>
        </div>

        <div class="flex items-start space-x-4">
          <div class="flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold">2</div>
          <div>
            <h3 class="font-semibold text-gray-900 mb-2">テンポと長さを設定</h3>
            <p class="text-gray-600">用途に応じてテンポ（BPM）と音楽の長さを設定します。BGMの場合はループ設定も有効にしてください。</p>
          </div>
        </div>

        <div class="flex items-start space-x-4">
          <div class="flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold">3</div>
          <div>
            <h3 class="font-semibold text-gray-900 mb-2">楽器編成を選択</h3>
            <p class="text-gray-600">使用したい楽器を選択します。複数選択可能で、選択した楽器の組み合わせで音楽が生成されます。</p>
          </div>
        </div>

        <div class="flex items-start space-x-4">
          <div class="flex-shrink-0 w-8 h-8 bg-accent text-white rounded-full flex items-center justify-center font-bold">4</div>
          <div>
            <h3 class="font-semibold text-gray-900 mb-2">音楽を生成・再生</h3>
            <p class="text-gray-600">設定完了後、「音楽を生成」ボタンで作成開始。生成された音楽は即座に再生・ダウンロード可能です。</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-800 text-gray-300 py-8 text-center text-sm">
    <nav class="mb-2">
      <a href="/privacy-policy-unified.html" class="underline hover:text-accent mx-2">プライバシーポリシー</a>
      <a href="/terms.html" class="underline hover:text-accent mx-2">利用規約</a>
      <a href="/about.html" class="underline hover:text-accent mx-2">運営者情報</a>
      <a href="mailto:negilab.com@gmail.com" class="underline hover:text-accent mx-2">お問い合わせ</a>
      <a href="/sitemap.xml" class="underline hover:text-accent mx-2">サイトマップ</a>
    </nav>
    <div>&copy; 2025 negi-lab.com</div>
  </footer>

  <!-- Scripts -->
  <script src="../js/advanced-audio-engine.js"></script>
  <script src="../js/music-generator-translations.js"></script>
  <script src="../js/music-generator-core.js"></script>
  <script src="../js/music-generator-ui.js"></script>
  <script src="../js/music-generator-test.js"></script>
  <script src="../js/music-generator-debug.js"></script>
  
  <script>
    // DOM loaded event
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Music generator NEW page loaded');
      
      // Wait for UI to be ready
      setTimeout(() => {
        if (window.musicGeneratorUI) {
          console.log('UI system ready');
        } else {
          console.log('Initializing UI manually...');
          window.musicGeneratorUI = new MusicGeneratorUI();
        }
      }, 500);
      
      // Guide modal setup
      function setupGuideModal() {
        const guideBtn = document.getElementById('guide-btn');
        const guideModal = document.getElementById('guide-modal');
        const guideClose = document.getElementById('close-guide');
        
        if (guideBtn && guideModal && guideClose) {
          guideBtn.addEventListener('click', function() {
            guideModal.style.display = 'flex';
          });
          
          guideClose.addEventListener('click', function() {
            guideModal.style.display = 'none';
          });
          
          guideModal.addEventListener('click', function(e) {
            if (e.target === guideModal) {
              guideModal.style.display = 'none';
            }
          });
        }
      }
      
      setupGuideModal();
      
      // プリセット機能の追加
      function setupPresets() {
        const presetCards = document.querySelectorAll('.preset-card');
        
        const presets = {
          'youtube': {
            genre: 'pop',
            mood: 'energetic',
            tempo: 'medium',
            duration: 'medium',
            instruments: ['piano', 'guitar', 'drums'],
            loop: true
          },
          'game': {
            genre: 'gameMusic',
            mood: 'epic',
            tempo: 'fast',
            duration: 'long',
            instruments: ['orchestral', 'synthesizer', 'drums'],
            loop: true
          },
          'presentation': {
            genre: 'ambient',
            mood: 'calm',
            tempo: 'slow',
            duration: 'medium',
            instruments: ['piano', 'strings'],
            loop: true
          },
          'podcast': {
            genre: 'ambient',
            mood: 'peaceful',
            tempo: 'slow',
            duration: 'extended',
            instruments: ['piano', 'strings'],
            loop: true
          }
        };
        
        presetCards.forEach(card => {
          card.addEventListener('click', function() {
            // 選択状態の切り替え
            presetCards.forEach(c => c.classList.remove('selected'));
            this.classList.add('selected');
            
            // プリセット設定の適用
            const presetName = this.getAttribute('data-preset');
            const preset = presets[presetName];
            
            if (preset) {
              // 設定の適用
              document.getElementById('genre-select').value = preset.genre;
              document.getElementById('mood-select').value = preset.mood;
              document.getElementById('tempo-select').value = preset.tempo;
              document.getElementById('duration-select').value = preset.duration;
              document.getElementById('loop-checkbox').checked = preset.loop;
              
              // 楽器選択の適用
              document.querySelectorAll('.instrument-checkbox').forEach(checkbox => {
                checkbox.checked = preset.instruments.includes(checkbox.value);
              });
              
              console.log('プリセット適用:', presetName, preset);
            }
          });
        });
      }
      
      setupPresets();
      
      // Music generation complete event
      window.addEventListener('musicGenerated', function() {
        document.getElementById('preview-area').style.display = 'block';
        document.getElementById('download-area').style.display = 'block';
      });

      // 簡易テスト機能（NEW版）
      window.quickTestNew = function() {
        console.log('NEW版 Quick test started');
        
        // 設定確認
        console.log('Genre:', document.getElementById('genre-select')?.value);
        console.log('Mood:', document.getElementById('mood-select')?.value);
        console.log('Tempo:', document.getElementById('tempo-select')?.value);
        console.log('Duration:', document.getElementById('duration-select')?.value);
        
        // 音楽ジェネレーター確認
        console.log('Music Generator:', !!window.musicGenerator);
        console.log('Music Generator UI:', !!window.musicGeneratorUI);
        
        // 生成ボタンクリック
        const generateBtn = document.getElementById('generate-btn');
        if (generateBtn) {
          console.log('Clicking generate button...');
          generateBtn.click();
        } else {
          console.error('Generate button not found');
        }
      };

      // 詳細設定テスト機能
      window.testAdvancedSettings = function() {
        console.log('Testing advanced settings toggle...');
        const advancedToggle = document.getElementById('advanced-toggle');
        const advancedSettings = document.getElementById('advanced-settings');
        
        console.log('Advanced toggle found:', !!advancedToggle);
        console.log('Advanced settings found:', !!advancedSettings);
        console.log('Current display:', advancedSettings ? advancedSettings.style.display : 'N/A');
        
        if (advancedToggle) {
          advancedToggle.click();
          setTimeout(() => {
            console.log('After click - display:', advancedSettings ? advancedSettings.style.display : 'N/A');
          }, 100);
        }
      };

      // 設定比較テスト機能
      window.testSettingsDifference = function() {
        console.log('=== Testing settings differences ===');
        
        // テストケース1: Classical + Calm
        setTimeout(() => {
          console.log('Testing Classical + Calm...');
          document.getElementById('genre-select').value = 'classical';
          document.getElementById('mood-select').value = 'calm';
          document.getElementById('tempo-select').value = 'slow';
          if (document.getElementById('complexity-select')) {
            document.getElementById('complexity-select').value = 'simple';
          }
          document.getElementById('generate-btn').click();
        }, 1000);
        
        // テストケース2: Electronic + Energetic（15秒後）
        setTimeout(() => {
          console.log('Testing Electronic + Energetic...');
          document.getElementById('genre-select').value = 'electronic';
          document.getElementById('mood-select').value = 'energetic';
          document.getElementById('tempo-select').value = 'fast';
          if (document.getElementById('complexity-select')) {
            document.getElementById('complexity-select').value = 'complex';
          }
          document.getElementById('generate-btn').click();
        }, 15000);
      };
      
      // 自動テストは無効化（ユーザーが手動で生成ボタンを押すまで待機）
      console.log('音楽生成ツール準備完了 - 手動生成をお待ちしています');
    });
  </script>
</body>
</html>
