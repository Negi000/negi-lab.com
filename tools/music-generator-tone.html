<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Content Security Policy -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self'; 
    script-src 'self' 'unsafe-inline' 'unsafe-eval' 
      https://cdn.tailwindcss.com 
      https://unpkg.com
      https://cdn.jsdelivr.net
      https://tonejs.github.io
      https://pagead2.googlesyndication.com 
      https://www.googletagmanager.com
      https://partner.googleadservices.com
      https://googleads.g.doubleclick.net
      https://securepubads.g.doubleclick.net
      https://ep1.adtrafficquality.google
      https://ep2.adtrafficquality.google
      https://adnxs.com
      https://adsystem.amazon-adsystem.com
      blob: data:; 
    style-src 'self' 'unsafe-inline' 
      https://fonts.googleapis.com 
      https://cdn.tailwindcss.com
      https://googleads.g.doubleclick.net; 
    font-src 'self' 
      https://fonts.gstatic.com; 
    img-src 'self' data: blob: 
      https://googleads.g.doubleclick.net
      https://pagead2.googlesyndication.com
      https://www.google.com
      https://www.gstatic.com; 
    connect-src 'self' 
      https://www.google-analytics.com
      https://stats.g.doubleclick.net
      https://googleads.g.doubleclick.net
      https://pagead2.googlesyndication.com
      https://unpkg.com
      https://cdn.jsdelivr.net
      https://tonejs.github.io
      https://ep1.adtrafficquality.google
      blob: data:; 
    worker-src 'self' blob: data:;
    child-src 'self' blob:;
    frame-src 'self'
      https://googleads.g.doubleclick.net 
      https://tpc.googlesyndication.com
      https://www.google.com
      https://ep1.adtrafficquality.google
      https://ep2.adtrafficquality.google;
    fenced-frame-src 'self'
      https://googleads.g.doubleclick.net;
    media-src 'self' blob: data:
      https://cdn.jsdelivr.net
      https://unpkg.com;
    object-src 'none'; 
    base-uri 'self';
    form-action 'self';
  " />
  
  <title>ã€ç„¡æ–™ã€‘é«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ« - ãƒªã‚¢ãƒ«æ¥½å™¨éŸ³æºå¯¾å¿œ | negi-lab.com</title>
  <meta name="description" content="Tone.jsã¨ãƒªã‚¢ãƒ«æ¥½å™¨ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½¿ç”¨ã—ãŸéŸ³æ¥½ç†è«–ã«åŸºã¥ãé«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã€‚è‡ªç„¶è¨€èªè§£æå¯¾å¿œã®ã‚·ãƒ³ãƒ—ãƒ«ãƒ¢ãƒ¼ãƒ‰ã¨è©³ç´°è¨­å®šãƒ¢ãƒ¼ãƒ‰ã‚’æ­è¼‰ã€‚ãƒ—ãƒ­å“è³ªã®BGMãƒ»éŸ³æ¥½ã‚’ç°¡å˜ä½œæˆã€‚" />
  <meta name="robots" content="index,follow" />
  <meta name="author" content="negi-lab.com" />
  <meta property="og:title" content="ã€ç„¡æ–™ã€‘é«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ« - ãƒªã‚¢ãƒ«æ¥½å™¨éŸ³æºå¯¾å¿œ | negi-lab.com" />
  <meta property="og:description" content="Tone.jsã¨ãƒªã‚¢ãƒ«æ¥½å™¨ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½¿ç”¨ã—ãŸéŸ³æ¥½ç†è«–ã«åŸºã¥ãé«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã€‚è‡ªç„¶è¨€èªè§£æå¯¾å¿œã€‚" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://negi-lab.com/tools/music-generator-tone.html" />
  <meta property="og:image" content="https://negi-lab.com/ogp-main.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="ã€ç„¡æ–™ã€‘é«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ« - ãƒªã‚¢ãƒ«æ¥½å™¨éŸ³æºå¯¾å¿œ | negi-lab.com" />
  <meta name="twitter:description" content="Tone.jsã¨ãƒªã‚¢ãƒ«æ¥½å™¨ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½¿ç”¨ã—ãŸéŸ³æ¥½ç†è«–ã«åŸºã¥ãé«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã€‚" />
  <meta name="twitter:image" content="https://negi-lab.com/ogp-main.png" />
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?v=3.4.0"></script>
  
  <!-- Tone.js -->
  <script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script>
  
  <!-- Tone.js-Instruments via jsDelivr CDN -->
  <script src="https://cdn.jsdelivr.net/gh/nbrosowsky/tonejs-instruments@master/Tonejs-Instruments.js"></script>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            negi: "#65c155",
            accent: "#4ADE80"
          },
          fontFamily: { inter: ["Inter", "sans-serif"] }
        }
      }
    }
  </script>

  <style>
    .music-wave {
      background: linear-gradient(90deg, #4ADE80 0%, #3B82F6 50%, #8B5CF6 100%);
      background-size: 200% 100%;
      animation: waveMove 3s ease-in-out infinite;
    }
    
    @keyframes waveMove {
      0%, 100% { background-position: 200% 0; }
      50% { background-position: 0% 0; }
    }
    
    .instrument-card {
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }
    
    .instrument-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    .instrument-card.selected {
      border-color: #4ADE80;
      background: linear-gradient(135deg, #f0fff4 0%, #dcfce7 100%);
    }
    
    .progress-bar {
      background: linear-gradient(90deg, #4ADE80 0%, #3B82F6 100%);
      transition: width 0.3s ease;
    }
    
    .loading-dots::after {
      content: '';
      animation: dots 1.5s steps(5, end) infinite;
    }
    
    @keyframes dots {
      0%, 20% { 
        color: rgba(0,0,0,0);
        text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0), .75em 0 0 rgba(0,0,0,0);
      }
      40% { 
        color: #4ADE80;
        text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0), .75em 0 0 rgba(0,0,0,0);
      }
      60% { 
        text-shadow: .25em 0 0 #4ADE80, .5em 0 0 rgba(0,0,0,0), .75em 0 0 rgba(0,0,0,0);
      }
      80%, 100% { 
        text-shadow: .25em 0 0 #4ADE80, .5em 0 0 #4ADE80, .75em 0 0 #4ADE80;
      }
    }
    
    .playback-visualizer {
      background: linear-gradient(90deg, 
        rgba(74, 222, 128, 0.2) 0%, 
        rgba(59, 130, 246, 0.2) 50%, 
        rgba(139, 92, 246, 0.2) 100%);
      animation: visualize 2s ease-in-out infinite alternate;
    }
    
    @keyframes visualize {
      0% { transform: scaleX(0.8) scaleY(0.9); }
      100% { transform: scaleX(1.1) scaleY(1.1); }
    }
    
    /* ãƒ—ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .preset-btn {
      transition: all 0.2s ease;
    }
    
    .preset-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    
    /* ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    #advanced-icon {
      transition: transform 0.2s ease;
    }
    
    #advanced-toggle[aria-expanded="true"] #advanced-icon {
      transform: rotate(180deg);
    }
    
    /* ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .metadata-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 12px;
      padding: 16px;
      background: #f8fafc;
      border-radius: 8px;
      border: 1px solid #e2e8f0;
    }
    
    .metadata-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    
    .metadata-item .label {
      font-size: 0.75rem;
      font-weight: 600;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    .metadata-item .value {
      font-size: 0.875rem;
      font-weight: 500;
      color: #1f2937;
    }
    
    /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .status {
      padding: 12px 16px;
      border-radius: 8px;
      font-size: 0.875rem;
      font-weight: 500;
    }
    
    .status.info {
      background: #eff6ff;
      color: #1e40af;
      border: 1px solid #bfdbfe;
    }
    
    .status.success {
      background: #ecfdf5;
      color: #065f46;
      border: 1px solid #a7f3d0;
    }
    
    .status.error {
      background: #fef2f2;
      color: #991b1b;
      border: 1px solid #fecaca;
    }
    
    .status.warning {
      background: #fffbeb;
      color: #92400e;
      border: 1px solid #fed7aa;
    }

  </style>
</head>

<body class="bg-gray-50 text-gray-800 font-inter min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex justify-between items-center px-4 py-4">
      <a href="/" class="text-2xl font-extrabold text-accent tracking-tight hover:opacity-80 transition">negi-lab.com</a>
      <nav>
        <ul class="flex gap-6 font-medium text-base items-center">
          <li><a href="/#tools" class="hover:text-accent transition" data-translate-key="header.nav.tools">ãƒ„ãƒ¼ãƒ«</a></li>
          <li><a href="/#wikis" class="hover:text-accent transition" data-translate-key="header.nav.wikis">ã‚²ãƒ¼ãƒ Wiki</a></li>
          <li>
            <select id="lang-switch" class="rounded border border-gray-300 px-2 py-1 text-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-accent transition">
              <option value="ja" data-translate-key="option.ja">æ—¥æœ¬èª</option>
              <option value="en" data-translate-key="option.en">English</option>
            </select>
          </li>
          <li>
            <button id="guide-btn" class="rounded border border-accent px-3 py-1 text-accent text-sm font-semibold bg-white hover:bg-accent/10 focus:outline-none focus:ring-2 focus:ring-accent transition" data-translate-key="header.guide">ã‚¬ã‚¤ãƒ‰</button>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- ãƒ–ãƒ¬ãƒƒãƒ‰ã‚¯ãƒ©ãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
  <nav class="bg-gray-100 border-b border-gray-200" aria-label="ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
    <div class="max-w-7xl mx-auto px-4 py-3">
      <ol class="flex items-center space-x-2 text-sm text-gray-600">
        <li><a href="/" class="text-accent hover:underline">ãƒ›ãƒ¼ãƒ </a></li>
        <li><span class="text-gray-400">/</span></li>
        <li><a href="/#tools" class="text-accent hover:underline">ãƒ„ãƒ¼ãƒ«</a></li>
        <li><span class="text-gray-400">/</span></li>
        <li class="text-gray-800 font-medium" aria-current="page">é«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«</li>
      </ol>
    </div>
  </nav>

  <main class="flex-grow py-12">
    <div class="container mx-auto px-4 max-w-6xl">
      <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
      <div class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4" data-translate-key="header.title">é«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«</h1>
        <p class="text-gray-600 text-lg max-w-3xl mx-auto" data-translate-key="header.subtitle">
          ãƒªã‚¢ãƒ«æ¥½å™¨éŸ³æºã¨Tone.jsã‚’ä½¿ç”¨ã—ãŸéŸ³æ¥½ç†è«–ã«åŸºã¥ãé«˜å“è³ªéŸ³æ¥½ç”Ÿæˆ
        </p>
      </div>
    <!-- ãƒ¡ã‚¤ãƒ³æ“ä½œã‚¨ãƒªã‚¢ -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
      <h2 class="text-xl font-bold mb-6">ï¿½ éŸ³æ¥½ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†</h2>
      
      <!-- åŸºæœ¬è¨­å®š -->
      <div class="space-y-6">
        <!-- ã‚¸ãƒ£ãƒ³ãƒ«ã¨é›°å›²æ°— -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">ğŸ­ ã‚¸ãƒ£ãƒ³ãƒ«</label>
            <select id="genre-select" class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
              <option value="pop">ãƒãƒƒãƒ—ã‚¹</option>
              <option value="rock">ãƒ­ãƒƒã‚¯</option>
              <option value="jazz">ã‚¸ãƒ£ã‚º</option>
              <option value="classical">ã‚¯ãƒ©ã‚·ãƒƒã‚¯</option>
              <option value="electronic">ã‚¨ãƒ¬ã‚¯ãƒˆãƒ­ãƒ‹ãƒƒã‚¯</option>
              <option value="blues">ãƒ–ãƒ«ãƒ¼ã‚¹</option>
            </select>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">ğŸŒŸ é›°å›²æ°—</label>
            <select id="mood-select" class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
              <option value="happy">æ˜ã‚‹ã„ãƒ»æ¥½ã—ã„</option>
              <option value="energetic">ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥</option>
              <option value="calm">è½ã¡ç€ã„ãŸãƒ»ç©ã‚„ã‹</option>
              <option value="romantic">ãƒ­ãƒãƒ³ãƒãƒƒã‚¯</option>
              <option value="mysterious">ç¥ç§˜çš„</option>
              <option value="sad">æ‚²ã—ã„ãƒ»åˆ‡ãªã„</option>
            </select>
          </div>
        </div>
        
        <!-- è£œè¶³æƒ…å ± -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">ğŸ’­ è£œè¶³æƒ…å ±ï¼ˆè‡ªç”±è¨˜å…¥ï¼‰</label>
          <textarea 
            id="description-input" 
            placeholder="ä¾‹: ã‚«ãƒ•ã‚§ã§æµã‚Œã‚‹ã‚ˆã†ãªã€ãƒ”ã‚¢ãƒãƒ¡ã‚¤ãƒ³ã§ã€å°‘ã—ã‚¸ãƒ£ã‚¸ãƒ¼ãªæ„Ÿã˜..."
            class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent resize-none"
            rows="3"
          ></textarea>
          <p class="text-xs text-gray-500 mt-1">æ¥½å™¨ã€ã‚¹ã‚¿ã‚¤ãƒ«ã€ã‚·ãƒ¼ãƒ³ãªã©ã€ã©ã‚“ãªéŸ³æ¥½ã«ã—ãŸã„ã‹è‡ªç”±ã«æ›¸ã„ã¦ãã ã•ã„</p>
        </div>
        
        <!-- åŸºæœ¬èª¿æ•´ -->
        <div class="space-y-4">
          <h4 class="text-md font-semibold text-gray-800">âš™ï¸ åŸºæœ¬èª¿æ•´</h4>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- ãƒ†ãƒ³ãƒ -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">ğŸ¥ ãƒ†ãƒ³ãƒ</label>
              <div class="space-y-2">
                <input 
                  id="tempo-range" 
                  type="range" 
                  min="60" 
                  max="180" 
                  value="120" 
                  class="w-full"
                />
                <div class="flex justify-between text-xs text-gray-500">
                  <span>ã‚†ã£ãã‚Š</span>
                  <span id="tempo-value" class="font-medium">120 BPM</span>
                  <span>é€Ÿã„</span>
                </div>
              </div>
            </div>
            
            <!-- æ›²ã®é•·ã• -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">â±ï¸ æ›²ã®é•·ã•</label>
              <div class="space-y-2">
                <input 
                  id="duration-range" 
                  type="range" 
                  min="15" 
                  max="120" 
                  value="30" 
                  class="w-full"
                />
                <div class="flex justify-between text-xs text-gray-500">
                  <span>çŸ­ã„</span>
                  <span id="duration-value" class="font-medium">0:30</span>
                  <span>é•·ã„</span>
                </div>
              </div>
            </div>
            
            <!-- æ›²ã®è¤‡é›‘ã• -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">ğŸ¼ æ›²ã®è¤‡é›‘ã•</label>
              <select id="complexity-select" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
                <option value="simple">ã‚·ãƒ³ãƒ—ãƒ«</option>
                <option value="normal" selected>æ™®é€š</option>
                <option value="complex">è¤‡é›‘</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ãƒ—ãƒªã‚»ãƒƒãƒˆ -->
      <div class="mt-6">
        <h4 class="text-md font-semibold text-gray-800 mb-3">âœ¨ ã‚¯ã‚¤ãƒƒã‚¯ãƒ—ãƒªã‚»ãƒƒãƒˆ</h4>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <button class="preset-btn bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 rounded-lg font-medium transition-transform hover:scale-105" data-preset="chill-pop">
            ğŸ˜Š ãƒãƒ«ãƒãƒƒãƒ—
          </button>
          <button class="preset-btn bg-gradient-to-r from-green-500 to-blue-500 text-white px-4 py-3 rounded-lg font-medium transition-transform hover:scale-105" data-preset="upbeat-rock">
            ï¿½ ã‚¢ãƒƒãƒ—ãƒ“ãƒ¼ãƒˆãƒ­ãƒƒã‚¯
          </button>
          <button class="preset-btn bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-3 rounded-lg font-medium transition-transform hover:scale-105" data-preset="smooth-jazz">
            ğŸ· ã‚¹ãƒ ãƒ¼ã‚¹ã‚¸ãƒ£ã‚º
          </button>
          <button class="preset-btn bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-3 rounded-lg font-medium transition-transform hover:scale-105" data-preset="classical-ensemble">
            ï¿½ ã‚¯ãƒ©ã‚·ãƒƒã‚¯
          </button>
        </div>
      </div>
    </div>
    
    <!-- è©³ç´°è¨­å®šï¼ˆã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ï¼‰ -->
    <div class="bg-white rounded-xl shadow-lg mb-8">
      <div class="border-b border-gray-200">
        <button 
          id="advanced-toggle" 
          class="w-full px-6 py-4 text-left font-medium text-gray-700 hover:text-accent transition-colors flex items-center justify-between"
          type="button"
        >
          <span>ğŸ”§ è©³ç´°è¨­å®š</span>
          <svg id="advanced-icon" class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </div>
      
      <div id="advanced-content" class="hidden p-6 space-y-6">
        <!-- æ¥½å™¨é¸æŠ -->
        <div>
          <h4 class="text-md font-semibold text-gray-800 mb-3">ğŸ¹ ä½¿ç”¨æ¥½å™¨</h4>
          <div id="instrument-selection" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
            <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
          </div>
          <p class="text-xs text-gray-500 mt-2">é¸æŠã—ãŸæ¥½å™¨ãŒéŸ³æ¥½ç”Ÿæˆæ™‚ã«è‡ªå‹•èª­ã¿è¾¼ã¿ã•ã‚Œã¾ã™</p>
        </div>
        
        <!-- éŸ³æ¥½ç†è«–è¨­å®š -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">ğŸµ ã‚­ãƒ¼</label>
            <select id="key-select" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
              <option value="C">Cï¼ˆãƒé•·èª¿ï¼‰</option>
              <option value="G">Gï¼ˆãƒˆé•·èª¿ï¼‰</option>
              <option value="D">Dï¼ˆãƒ‹é•·èª¿ï¼‰</option>
              <option value="A">Aï¼ˆã‚¤é•·èª¿ï¼‰</option>
              <option value="E">Eï¼ˆãƒ›é•·èª¿ï¼‰</option>
              <option value="F">Fï¼ˆãƒ˜é•·èª¿ï¼‰</option>
              <option value="Bb">Bâ™­ï¼ˆå¤‰ãƒ­é•·èª¿ï¼‰</option>
            </select>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">ğŸ¼ ã‚¹ã‚±ãƒ¼ãƒ«</label>
            <select id="scale-select" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
              <option value="major">ãƒ¡ã‚¸ãƒ£ãƒ¼ï¼ˆé•·èª¿ï¼‰</option>
              <option value="minor">ãƒã‚¤ãƒŠãƒ¼ï¼ˆçŸ­èª¿ï¼‰</option>
              <option value="pentatonic">ãƒšãƒ³ã‚¿ãƒˆãƒ‹ãƒƒã‚¯</option>
              <option value="blues">ãƒ–ãƒ«ãƒ¼ã‚¹</option>
            </select>
          </div>
        </div>
      </div>
    </div>
      </div>

    <!-- ç”Ÿæˆã¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
      <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º -->
      <div id="generation-status" class="mb-4 p-3 rounded-lg hidden">
        <!-- JavaScriptã§å‹•çš„ã«æ›´æ–° -->
      </div>

      <div class="flex flex-col sm:flex-row gap-4 mb-6">
        <button id="generate-music" class="flex-1 bg-accent hover:bg-negi text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
          <span class="loading-text">ğŸµ éŸ³æ¥½ã‚’ç”Ÿæˆ</span>
        </button>
        <button id="play-music" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
          â–¶ï¸ å†ç”Ÿ
        </button>
        <button id="pause-music" class="bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
          â¸ï¸ ä¸€æ™‚åœæ­¢
        </button>
        <button id="stop-music" class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
          â¹ï¸ åœæ­¢
        </button>
        <button id="download-music" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
          ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        </button>
      </div>

      <!-- æ³¢å½¢è¡¨ç¤º -->
      <div class="mb-6">
        <h4 class="text-sm font-semibold text-gray-700 mb-3">ğŸ“Š æ³¢å½¢è¡¨ç¤º</h4>
        <canvas id="waveform-canvas" class="w-full h-24 bg-gray-50 rounded-lg border" width="800" height="100"></canvas>
      </div>

      <!-- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º -->
      <div id="metadata-display" class="mb-6">
        <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
      </div>

      <!-- å†ç”ŸçŠ¶æ³è¡¨ç¤º -->
      <div id="playback-status" class="hidden">
        <div class="playback-visualizer h-16 rounded-lg mb-4 flex items-center justify-center">
          <div class="text-white font-medium">ğŸµ å†ç”Ÿä¸­...</div>
        </div>
        <div class="flex items-center space-x-3">
          <span class="text-sm text-gray-600">é€²è¡ŒçŠ¶æ³:</span>
          <div class="flex-1 bg-gray-200 rounded-full h-2">
            <div id="playback-progress" class="progress-bar h-2 rounded-full" style="width: 0%"></div>
          </div>
          <span id="playback-time" class="text-sm text-gray-600">0:00 / 0:00</span>
        </div>
      </div>
    </div>

    <!-- çµæœè¡¨ç¤º -->
    <div id="result-section" class="bg-white rounded-xl shadow-lg p-6 hidden">
      <h3 class="text-lg font-semibold mb-4">ğŸ¼ ç”Ÿæˆã•ã‚ŒãŸéŸ³æ¥½ã®è©³ç´°</h3>
      
      <!-- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º -->
      <div id="metadata-area" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
        <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
      </div>

      <!-- çµ±è¨ˆæƒ…å ± -->
      <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
        <div class="bg-gray-50 p-3 rounded-lg text-center">
          <div class="text-sm text-gray-600">ã‚­ãƒ¼</div>
          <div id="result-key" class="font-semibold">-</div>
        </div>
        <div class="bg-gray-50 p-3 rounded-lg text-center">
          <div class="text-sm text-gray-600">ãƒ†ãƒ³ãƒ</div>
          <div id="result-tempo" class="font-semibold">-</div>
        </div>
        <div class="bg-gray-50 p-3 rounded-lg text-center">
          <div class="text-sm text-gray-600">é•·ã•</div>
          <div id="result-duration" class="font-semibold">-</div>
        </div>
        <div class="bg-gray-50 p-3 rounded-lg text-center col-span-2 md:col-span-3">
          <div class="text-sm text-gray-600">ã‚³ãƒ¼ãƒ‰é€²è¡Œ</div>
          <div id="result-progression" class="font-semibold">-</div>
        </div>
      </div>

      <!-- æŠ€è¡“çš„è©³ç´° -->
      <details class="mt-4">
        <summary class="cursor-pointer text-sm text-gray-600 hover:text-gray-800">ğŸ”§ æŠ€è¡“çš„è©³ç´°ã‚’è¡¨ç¤º</summary>
        <div id="technical-details" class="mt-3 p-4 bg-gray-50 rounded-lg text-sm">
          <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        </div>
      </details>
    </div>

    <!-- èª¬æ˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="bg-white rounded-xl shadow-lg p-6">
      <h3 class="text-lg font-semibold mb-4">ğŸ“ ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦</h3>
      <div class="prose prose-sm max-w-none">
        <p class="text-gray-600 mb-3">
          ã“ã®ãƒ„ãƒ¼ãƒ«ã¯<strong>Tone.js</strong>ã¨<strong>ãƒªã‚¢ãƒ«æ¥½å™¨ã‚µãƒ³ãƒ—ãƒ«</strong>ã‚’ä½¿ç”¨ã—ãŸã€éŸ³æ¥½ç†è«–ã«åŸºã¥ãé«˜å“è³ªãªéŸ³æ¥½ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h4 class="font-semibold text-gray-800 mb-2">ğŸ¹ åŸºæœ¬æ“ä½œ</h4>
            <ul class="text-sm text-gray-600 space-y-1">
              <li>â€¢ ã‚¸ãƒ£ãƒ³ãƒ«ã¨é›°å›²æ°—ã‚’é¸æŠ</li>
              <li>â€¢ è‡ªç„¶è¨€èªã§è£œè¶³æƒ…å ±ã‚’å…¥åŠ›</li>
              <li>â€¢ ãƒ†ãƒ³ãƒãƒ»é•·ã•ãƒ»è¤‡é›‘ã•ã‚’èª¿æ•´</li>
              <li>â€¢ ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ãƒ—ãƒªã‚»ãƒƒãƒˆã‚‚åˆ©ç”¨å¯èƒ½</li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800 mb-2">ï¿½ è©³ç´°è¨­å®š</h4>
            <ul class="text-sm text-gray-600 space-y-1">
              <li>â€¢ ä½¿ç”¨æ¥½å™¨ã®å€‹åˆ¥é¸æŠ</li>
              <li>â€¢ ã‚­ãƒ¼ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«ãƒ»æ¥½æ›²æ§‹é€ ã®åˆ¶å¾¡</li>
              <li>â€¢ éŸ³æ¥½ç†è«–ã«åŸºã¥ãé«˜åº¦ãªè¨­å®š</li>
              <li>â€¢ å¿…è¦ãªæ™‚ã ã‘è©³ç´°è¨­å®šã‚’å±•é–‹</li>
            </ul>
          </div>
        </div>
        <div class="mt-4 p-4 bg-accent/10 rounded-lg">
          <h5 class="font-semibold text-accent mb-2">ğŸ¼ éŸ³æ¥½ç”Ÿæˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </h5>
          <p class="text-sm text-gray-700">
            ãƒªã‚¢ãƒ«æ¥½å™¨ã‚µãƒ³ãƒ—ãƒ« Ã— éŸ³æ¥½ç†è«– Ã— ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ç”Ÿæˆã«ã‚ˆã‚Šã€é«˜å“è³ªã§å¤šæ§˜æ€§ã®ã‚ã‚‹éŸ³æ¥½ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
            å’ŒéŸ³é€²è¡Œã€ãƒ¡ãƒ­ãƒ‡ã‚£ãƒ¼ç”Ÿæˆã€ãƒªã‚ºãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã™ã¹ã¦éŸ³æ¥½ç†è«–ã«åŸºã¥ã„ã¦æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ã€‚
            æ¥½å™¨ã¯ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰èª­ã¿è¾¼ã¿æ–¹å¼ã«ã‚ˆã‚Šã€å¿…è¦ãªæ¥½å™¨ã®ã¿ã‚’åŠ¹ç‡çš„ã«èª­ã¿è¾¼ã¿ã¾ã™ã€‚
          </p>
        </div>
      </div>
    </div>

    <!-- æŠ€è¡“è§£èª¬ãƒ»ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="py-14 bg-white">
      <div class="max-w-4xl mx-auto">
        <header class="text-center mb-10">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">ğŸµ é«˜å“è³ªéŸ³æ¥½ç”Ÿæˆã®ç‰¹å¾´</h2>
          <p class="text-lg text-gray-600">
            éŸ³æ¥½ç†è«–ã¨ãƒªã‚¢ãƒ«æ¥½å™¨ã‚µãƒ³ãƒ—ãƒ«ã«ã‚ˆã‚‹æœ¬æ ¼çš„ãªéŸ³æ¥½ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 
          </p>
        </header>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="bg-gray-50 rounded-lg p-6 text-center">
            <div class="text-3xl mb-4">ğŸ¹</div>
            <h3 class="text-xl font-semibold mb-3">ãƒªã‚¢ãƒ«æ¥½å™¨éŸ³æº</h3>
            <p class="text-gray-600 text-sm">
              æœ¬ç‰©ã®æ¥½å™¨ã‹ã‚‰éŒ²éŸ³ã•ã‚ŒãŸã‚µãƒ³ãƒ—ãƒ«éŸ³æºã‚’ä½¿ç”¨ã—ã€è‡ªç„¶ã§è¿«åŠ›ã®ã‚ã‚‹éŸ³éŸ¿ã‚’å®Ÿç¾
            </p>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-6 text-center">
            <div class="text-3xl mb-4">ğŸ¼</div>
            <h3 class="text-xl font-semibold mb-3">éŸ³æ¥½ç†è«–ã‚¨ãƒ³ã‚¸ãƒ³</h3>
            <p class="text-gray-600 text-sm">
              ã‚³ãƒ¼ãƒ‰é€²è¡Œã€ã‚¹ã‚±ãƒ¼ãƒ«ã€å’Œå£°æ³•ãªã©ã€æ­£çµ±ãªéŸ³æ¥½ç†è«–ã«åŸºã¥ã„ãŸè‡ªç„¶ãªæ¥½æ›²æ§‹æˆ
            </p>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-6 text-center">
            <div class="text-3xl mb-4">ğŸ¯</div>
            <h3 class="text-xl font-semibold mb-3">ã‚·ãƒ³ãƒ—ãƒ«æ“ä½œ</h3>
            <p class="text-gray-600 text-sm">
              è‡ªç„¶è¨€èªã§ã®æŒ‡å®šã‚„ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ãƒ—ãƒªã‚»ãƒƒãƒˆã§ã€èª°ã§ã‚‚ç°¡å˜ã«é«˜å“è³ªãªéŸ³æ¥½ã‚’ç”Ÿæˆ
            </p>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-6 text-center">
            <div class="text-3xl mb-4">ğŸ”§</div>
            <h3 class="text-xl font-semibold mb-3">è©³ç´°è¨­å®šå¯¾å¿œ</h3>
            <p class="text-gray-600 text-sm">
              ã‚­ãƒ¼ã€ãƒ†ãƒ³ãƒã€æ¥½å™¨ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€ãƒ ãƒ¼ãƒ‰ãªã©ã€ç´°ã‹ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’å€‹åˆ¥ã«èª¿æ•´å¯èƒ½
            </p>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-6 text-center">
            <div class="text-3xl mb-4">ğŸ”’</div>
            <h3 class="text-xl font-semibold mb-3">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é‡è¦–</h3>
            <p class="text-gray-600 text-sm">
              ã™ã¹ã¦ã®å‡¦ç†ã¯ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å®Œçµã€‚å¤–éƒ¨ã‚µãƒ¼ãƒãƒ¼ã«éŸ³æ¥½ãƒ‡ãƒ¼ã‚¿ãŒé€ä¿¡ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“
            </p>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-6 text-center">
            <div class="text-3xl mb-4">ğŸ’¾</div>
            <h3 class="text-xl font-semibold mb-3">é«˜å“è³ªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</h3>
            <p class="text-gray-600 text-sm">
              ç”Ÿæˆã—ãŸéŸ³æ¥½ã‚’é«˜å“è³ªãªWAVãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€‚å•†ç”¨åˆ©ç”¨ã‚‚å¯èƒ½
            </p>
          </div>
        </div>
      </div>
    </section>
    
    </div>
  </main>

  <!-- ç‹¬è‡ªæ€§ãƒ»å…è²¬äº‹é …ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section class="mt-12 mb-8 text-sm text-gray-700 bg-white rounded-lg p-4 border border-gray-200 max-w-xl mx-auto" aria-label="ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦">
    <h2 class="font-bold text-base mb-2">negi-lab.comã®ç‹¬è‡ªæ€§ãƒ»é‹å–¶æ–¹é‡ãƒ»å…è²¬äº‹é …</h2>
    <ul class="list-disc ml-5 mb-2">
      <li>æœ¬éŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã¯negi-lab.comãŒç‹¬è‡ªé–‹ç™ºãƒ»é‹å–¶ã—ã¦ã„ã¾ã™ã€‚</li>
      <li>åºƒå‘Šãƒ»ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆã‚’å«ã¿ã¾ã™ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æœ€å„ªå…ˆã—ã¦ã„ã¾ã™ã€‚</li>
      <li>æ­£ç¢ºæ€§ãƒ»å®‰å…¨æ€§ã«ã¯ä¸‡å…¨ã‚’æœŸã—ã¦ã„ã¾ã™ãŒã€åˆ©ç”¨ã¯è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚</li>
      <li>ç”Ÿæˆã•ã‚ŒãŸéŸ³æ¥½ã®è‘—ä½œæ¨©ã«ã¤ã„ã¦ã¯åˆ©ç”¨è¦ç´„ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</li>
    </ul>
    <p class="text-xs text-gray-500">&copy; 2025 negi-lab.com</p>
  </section>

  <footer class="bg-gray-800 text-gray-300 py-8 text-center text-sm mt-auto">
    <nav class="mb-2">
      <a href="/privacy-policy-unified.html" class="underline hover:text-accent mx-2">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
      <a href="/terms.html" class="underline hover:text-accent mx-2">åˆ©ç”¨è¦ç´„</a>
      <a href="/about.html" class="underline hover:text-accent mx-2">é‹å–¶è€…æƒ…å ±</a>
      <a href="mailto:negilab.com@gmail.com" class="underline hover:text-accent mx-2">ãŠå•ã„åˆã‚ã›</a>
      <a href="/sitemap.xml" class="underline hover:text-accent mx-2">ã‚µã‚¤ãƒˆãƒãƒƒãƒ—</a>
    </nav>
    <div>&copy; 2025 negi-lab.com</div>
  </footer>

  <!-- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "é«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«",
    "applicationCategory": "MultimediaApplication",
    "operatingSystem": "Any",
    "description": "Tone.jsã¨ãƒªã‚¢ãƒ«æ¥½å™¨ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½¿ç”¨ã—ãŸéŸ³æ¥½ç†è«–ã«åŸºã¥ãé«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã€‚è‡ªç„¶è¨€èªè§£æå¯¾å¿œã®ã‚·ãƒ³ãƒ—ãƒ«ãƒ¢ãƒ¼ãƒ‰ã¨è©³ç´°è¨­å®šãƒ¢ãƒ¼ãƒ‰ã‚’æ­è¼‰ã€‚",
    "url": "https://negi-lab.com/tools/music-generator-tone.html",
    "author": {
      "@type": "Organization",
      "name": "negi-lab.com"
    },
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "JPY"
    },
    "featureList": [
      "ãƒªã‚¢ãƒ«æ¥½å™¨éŸ³æºå¯¾å¿œ",
      "éŸ³æ¥½ç†è«–ã«åŸºã¥ãè‡ªå‹•ç”Ÿæˆ",
      "è‡ªç„¶è¨€èªã«ã‚ˆã‚‹æ¥½æ›²æŒ‡å®š",
      "è©³ç´°ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼è¨­å®š",
      "ãƒ–ãƒ©ã‚¦ã‚¶å®Œçµå‹å‡¦ç†",
      "é«˜å“è³ªWAVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰"
    ]
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type": "ListItem", "position": 1, "name": "ãƒ›ãƒ¼ãƒ ", "item": "https://negi-lab.com/"},
      {"@type": "ListItem", "position": 2, "name": "ãƒ„ãƒ¼ãƒ«", "item": "https://negi-lab.com/#tools"},
      {"@type": "ListItem", "position": 3, "name": "é«˜å“è³ªéŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«", "item": "https://negi-lab.com/tools/music-generator-tone.html"}
    ]
  }
  </script>

  <!-- Security and External Scripts -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N9X3N0RY0H"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N9X3N0RY0H');
  </script>
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1835873052239386" crossorigin="anonymous"></script>
  
  <!-- Scripts -->
  <!-- Tone.js and Tone.js-Instruments (Must be loaded first) -->
  <script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/nbrosowsky/tonejs-instruments@v1.0.2/build/SampleLibrary.js"></script>
  
  <!-- Application Scripts (Order is important) -->
  <script src="../js/common-utils.js"></script>
  <script src="../js/security-utils.js"></script>
  <script src="../js/music-generator-translations.js"></script>
  <script src="../js/realistic-tone-engine-ondemand.js"></script>
  <script src="../js/realistic-tone-ui-simple.js"></script>

  <!-- ã‚¬ã‚¤ãƒ‰ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="guide-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/40 hidden" role="dialog" aria-modal="true">
    <div class="bg-white rounded-xl shadow-xl max-w-lg w-full p-6 relative">
      <button id="guide-close" class="absolute top-2 right-2 text-gray-400 hover:text-accent text-2xl font-bold" aria-label="é–‰ã˜ã‚‹">&times;</button>
      <div id="guide-modal-content">
        <h2 class="text-xl font-bold mb-3">éŸ³æ¥½ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã®ä½¿ã„æ–¹</h2>
        <ul class="list-disc ml-5 mb-4 text-gray-700">
          <li><b>åŸºæœ¬æ“ä½œ</b>ï¼šã‚¸ãƒ£ãƒ³ãƒ«ãƒ»é›°å›²æ°—ã‚’é¸æŠã—ã€è‡ªç„¶è¨€èªã§è£œè¶³æƒ…å ±ã‚’å…¥åŠ›</li>
          <li><b>ã‚¯ã‚¤ãƒƒã‚¯ãƒ—ãƒªã‚»ãƒƒãƒˆ</b>ï¼šãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ãŠå¥½ã¿ã®éŸ³æ¥½ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¨­å®š</li>
          <li><b>è©³ç´°è¨­å®š</b>ï¼šæ¥½å™¨ãƒ»ã‚­ãƒ¼ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«ãªã©ã‚’å€‹åˆ¥ã«èª¿æ•´ï¼ˆã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰</li>
          <li><b>ç”Ÿæˆãƒœã‚¿ãƒ³</b>ã‚’æŠ¼ã™ã¨éŸ³æ¥½ç†è«–ã«åŸºã¥ã„ãŸæ¥½æ›²ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™</li>
          <li>ç”Ÿæˆã•ã‚ŒãŸéŸ³æ¥½ã¯å†ç”Ÿãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¯èƒ½ã§ã™</li>
          <li>ã™ã¹ã¦ã®å‡¦ç†ã¯ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å®Œçµã—ã€å¤–éƒ¨ã«ãƒ‡ãƒ¼ã‚¿ãŒé€ä¿¡ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“</li>
        </ul>
        <h3 class="font-bold text-base mt-6 mb-2">ã‚ˆãã‚ã‚‹è³ªå•</h3>
        <dl class="mb-4 text-gray-700">
          <dt class="font-semibold">Q. å•†ç”¨åˆ©ç”¨ã¯å¯èƒ½ã§ã™ã‹ï¼Ÿ</dt>
          <dd class="mb-2">A. ç”Ÿæˆã•ã‚ŒãŸéŸ³æ¥½ã¯è‡ªç”±ã«ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ãŒã€è©³ç´°ã¯åˆ©ç”¨è¦ç´„ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</dd>
          <dt class="font-semibold">Q. ã©ã®ã‚ˆã†ãªæ¥½å™¨ãŒä½¿ç”¨ã§ãã¾ã™ã‹ï¼Ÿ</dt>
          <dd class="mb-2">A. ãƒ”ã‚¢ãƒã€ã‚®ã‚¿ãƒ¼ã€ãƒ™ãƒ¼ã‚¹ã€ãƒã‚¤ã‚ªãƒªãƒ³ã€ãƒ•ãƒ«ãƒ¼ãƒˆã€ã‚µãƒƒã‚¯ã‚¹ç­‰å¤šæ§˜ãªæ¥½å™¨ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚</dd>
          <dt class="font-semibold">Q. æ¥½å™¨ã®èª­ã¿è¾¼ã¿çŠ¶æ³ã¯ç¢ºèªã§ãã¾ã™ã‹ï¼Ÿ</dt>
          <dd class="mb-2">A. æ¥½å™¨ã¯éŸ³æ¥½ç”Ÿæˆæ™‚ã«å¿…è¦ãªã‚‚ã®ã®ã¿è‡ªå‹•èª­ã¿è¾¼ã¿ã•ã‚Œã‚‹ãŸã‚ã€äº‹å‰ã®èª­ã¿è¾¼ã¿çŠ¶æ³ç¢ºèªã¯ä¸è¦ã§ã™ã€‚</dd>
        </dl>
      </div>
    </div>
  </div>

  <script>
    // åˆæœŸåŒ–ã¨ã‚¬ã‚¤ãƒ‰ãƒ¢ãƒ¼ãƒ€ãƒ«
    document.addEventListener('DOMContentLoaded', async function() {
      try {
        console.log('DOM loaded, initializing music generator...');
        console.log('Available globals:', {
          Tone: typeof Tone,
          SampleLibrary: typeof SampleLibrary,
          RealisticToneEngine: typeof RealisticToneEngine,
          RealisticToneUI: typeof RealisticToneUI
        });
        
        // ã‚¬ã‚¤ãƒ‰ãƒ¢ãƒ¼ãƒ€ãƒ«åˆ¶å¾¡
        const guideBtn = document.getElementById('guide-btn');
        const guideModal = document.getElementById('guide-modal');
        const guideClose = document.getElementById('guide_close');
        
        if (guideBtn && guideModal && guideClose) {
          guideBtn.addEventListener('click', () => {
            guideModal.classList.remove('hidden');
          });
          guideClose.addEventListener('click', () => {
            guideModal.classList.add('hidden');
          });
          guideModal.addEventListener('click', (e) => {
            if (e.target === guideModal) guideModal.classList.add('hidden');
          });
        }
        
        // å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç¢ºèª
        if (typeof Tone === 'undefined') {
          throw new Error('Tone.js is not loaded');
        }
        
        if (typeof SampleLibrary === 'undefined') {
          console.warn('Tone.js-Instruments (SampleLibrary) is not available, will use fallback');
        }
        
        // æ–°ã—ã„ã‚¨ãƒ³ã‚¸ãƒ³ã®åˆæœŸåŒ–
        console.log('Creating RealisticToneEngine...');
        window.musicEngine = new RealisticToneEngine();
        await window.musicEngine.initialize();
        console.log('RealisticToneEngine initialized successfully');
        
        // æ–°ã—ã„UIã®åˆæœŸåŒ–
        console.log('Creating RealisticToneUI...');
        window.musicUI = new RealisticToneUI(window.musicEngine);
        window.musicUI.initialize();
        console.log('RealisticToneUI initialized successfully');
        
      } catch (error) {
        console.error('Initialization failed:', error);
        
        // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
        const errorDiv = document.createElement('div');
        errorDiv.className = 'fixed top-4 right-4 p-4 rounded-lg text-white bg-red-500 z-50 max-w-md';
        errorDiv.innerHTML = `
          <div class="font-bold">åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼</div>
          <div class="text-sm">${error.message}</div>
          <div class="text-xs mt-2">ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„</div>
          <button onclick="location.reload()" class="mt-2 px-2 py-1 bg-red-700 rounded text-xs">å†èª­ã¿è¾¼ã¿</button>
        `;
        document.body.appendChild(errorDiv);
      }
    });
    
    // ã‚¨ãƒ³ã‚¸ãƒ³åˆæœŸåŒ–ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
    window.addEventListener('musicEngineReady', function(event) {
      console.log('Music engine ready:', event.detail);
    });
    
    window.addEventListener('musicEngineFallback', function(event) {
      console.warn('Music engine using fallback:', event.detail);
    });
  </script>
</body>
</html>
