<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title data-translate-key="page.title">オンライン便利ツール集 - 日常作業を効率化 | negi-lab.com</title>
  <meta name="description" data-translate-key="meta.description" content="プライバシー重視のブラウザ完結型ツール集。QRコード生成、画像変換、単位換算など、専門的な機能を誰でも簡単に利用できます。技術解説と実用ガイド付きで安心してお使いいただけます。" />
  
  <!-- Tailwind Configuration -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            negi: "#65c155",
            accent: "#4ADE80"
          },
          fontFamily: { inter: ["Inter", "sans-serif"] }
        }
      }
    }
  </script>
  
  <!-- Portal-specific translations -->
  <script>
    /**
     * Portal (index.html) Translations for negi-lab.com
     * 
     * Contains all translation keys for the main portal page in Japanese and English
     * Organized by sections for maintainability
     */

    window.portalTranslations = {
      ja: {
        // Page Meta
        "page.title": "オンライン便利ツール集 - 日常作業を効率化 | negi-lab.com",
        "meta.description": "プライバシー重視のブラウザ完結型ツール集。QRコード生成、画像変換、単位換算など、専門的な機能を誰でも簡単に利用できます。技術解説と実用ガイド付きで安心してお使いいただけます。",

        // Header & Navigation
        "header.nav.tools": "ツール",
        "header.nav.wikis": "ゲームWiki",
        "header.guide": "ガイド",
        "option.ja": "日本語",
        "option.en": "English",

        // Hero Section
        "hero.title_html": "毎日に<b class=\"text-accent\">\"ちょうどいい\"</b>便利さと<br>楽しさを。",
        "hero.subtitle_html": "negi-lab.comは、<b class=\"text-accent\">作業効率化</b>や<b class=\"text-accent\">ちょっとした手助け</b>がほしい人、<br><b class=\"text-accent\">ゲームを深く楽しみたい人</b>に向けた<br class=\"hidden md:inline\">ウェブツール＆情報サービスのポータルです。",
        "hero.cta": "ツールを使ってみる",

        // Tools Section
        "tools.sectionTitle": "便利ツール集",
        "tools.sectionDescription": "日常の作業を効率化する、シンプルで使いやすいウェブツール",
        "tools.features.title": "✨ negi-lab.comの特徴",
        "tools.features.browserOnly": "🔒 全処理がブラウザ内で完結",
        "tools.features.responsive": "📱 スマホ・PC両対応",
        "tools.features.free": "🆓 完全無料・登録不要",
        "tools.features.bilingual": "🌍 日本語・英語対応",
      },

      en: {
        // Page Meta
        "page.title": "Online Utility Tools Collection - Streamline Daily Tasks | negi-lab.com",
        "meta.description": "Privacy-focused browser-based tool collection. QR code generation, image conversion, unit conversion, and more specialized features that anyone can use easily. Complete with technical guides and practical tutorials for safe usage.",

        // Header & Navigation
        "header.nav.tools": "Tools",
        "header.nav.wikis": "Game Wikis",
        "header.guide": "Guide",
        "option.ja": "日本語",
        "option.en": "English",

        // Hero Section
        "hero.title_html": "The <b class=\"text-accent\">\"just right\"</b> convenience<br>and fun for your daily life.",
        "hero.subtitle_html": "negi-lab.com is a portal for <b class=\"text-accent\">work efficiency</b> and <b class=\"text-accent\">helpful assistance</b> seekers,<br>and those who want to <b class=\"text-accent\">enjoy games more deeply</b><br class=\"hidden md:inline\"> - your web tools & information service hub.",
        "hero.cta": "Try the Tools",

        // Tools Section
        "tools.sectionTitle": "Utility Tools Collection",
        "tools.sectionDescription": "Simple and user-friendly web tools that streamline your daily tasks",
        "tools.features.title": "✨ negi-lab.com Features",
        "tools.features.browserOnly": "🔒 All processing done in browser",
        "tools.features.responsive": "📱 Mobile & PC compatible",
        "tools.features.free": "🆓 Completely free & no registration",
        "tools.features.bilingual": "🌍 Japanese & English support",
      }
    };

    // Make available globally
    if (typeof window !== 'undefined') {
      window.translations = window.portalTranslations;
    }
  </script>
</head>
<body class="bg-gray-50 text-gray-800 font-inter min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex justify-between items-center px-4 py-4">
      <a href="/" class="text-2xl font-extrabold text-accent tracking-tight hover:opacity-80 transition">negi-lab.com</a>
      <nav>
        <ul class="flex gap-6 font-medium text-base items-center">
          <li><a href="/#tools" class="hover:text-accent transition" data-translate-key="header.nav.tools">ツール</a></li>
          <li><a href="/#wikis" class="hover:text-accent transition" data-translate-key="header.nav.wikis">ゲームWiki</a></li>
          <li>
            <select id="lang-switch" class="rounded border border-gray-300 px-2 py-1 text-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-accent transition">
              <option value="ja" data-translate-key="option.ja">日本語</option>
              <option value="en" data-translate-key="option.en">English</option>
            </select>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="flex-grow">
    <!-- Hero Section -->
    <section id="home" class="bg-gradient-to-b from-accent/10 via-white to-gray-100 py-16" role="banner">
      <div class="max-w-3xl mx-auto text-center px-4">
        <h1 class="text-4xl md:text-5xl font-extrabold mb-5 text-gray-900" data-translate-html-key="hero.title_html">毎日に<b class="text-accent">"ちょうどいい"</b>便利さと<br>楽しさを。</h1>
        <p class="text-lg text-gray-700 mb-8" data-translate-html-key="hero.subtitle_html">
          negi-lab.comは、<b class="text-accent">作業効率化</b>や<b class="text-accent">ちょっとした手助け</b>がほしい人、<br>
          <b class="text-accent">ゲームを深く楽しみたい人</b>に向けた<br class="hidden md:inline">
          ウェブツール＆情報サービスのポータルです。
        </p>
        <a href="#tools" class="inline-block bg-accent hover:bg-emerald-500 text-white font-bold py-3 px-8 rounded-lg shadow-md transition text-lg" data-translate-key="hero.cta">
          ツールを使ってみる
        </a>
      </div>
    </section>

    <!-- Tools Section -->
    <section id="tools" class="py-14 bg-white" role="main">
      <div class="max-w-7xl mx-auto px-4">
        <header class="text-center mb-10">
          <h2 class="text-3xl font-bold text-gray-900 mb-4" data-translate-key="tools.sectionTitle">便利ツール集</h2>
          <p class="text-lg text-gray-600" data-translate-key="tools.sectionDescription">
            日常の作業を効率化する、シンプルで使いやすいウェブツール
          </p>
          <div class="mt-4 text-sm text-gray-700 bg-accent/10 rounded-lg p-4 max-w-2xl mx-auto">
            <p class="font-semibold text-accent mb-2" data-translate-key="tools.features.title">✨ negi-lab.comの特徴</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-left">
              <p data-translate-key="tools.features.browserOnly">🔒 全処理がブラウザ内で完結</p>
              <p data-translate-key="tools.features.responsive">📱 スマホ・PC両対応</p>
              <p data-translate-key="tools.features.free">🆓 完全無料・登録不要</p>
              <p data-translate-key="tools.features.bilingual">🌍 日本語・英語対応</p>
            </div>
          </div>
        </header>
      </div>
    </section>
  </main>

  <footer class="bg-gray-800 text-gray-300 py-8 text-center text-sm mt-auto">
    <div>&copy; 2025 negi-lab.com</div>
  </footer>

  <script>
    /**
     * Portal (index.html) Main JavaScript
     * Handles translation system and language switching
     */

    // Translation system function
    function applyTranslations(lang) {
      console.log(`Applying translations for language: ${lang}`);
      
      if (!window.translations || !window.translations[lang]) {
        console.warn(`Translations not available for language: ${lang}`);
        return;
      }

      const translations = window.translations[lang];
      console.log(`Found ${Object.keys(translations).length} translation keys`);

      // Handle regular data-translate-key elements
      const regularElements = document.querySelectorAll('[data-translate-key]');
      console.log(`Found ${regularElements.length} elements with data-translate-key`);
      
      regularElements.forEach(element => {
        const key = element.getAttribute('data-translate-key');
        if (translations[key]) {
          element.textContent = translations[key];
        } else {
          console.warn(`Translation key not found: ${key}`);
        }
      });

      // Handle HTML content with data-translate-html-key
      const htmlElements = document.querySelectorAll('[data-translate-html-key]');
      console.log(`Found ${htmlElements.length} elements with data-translate-html-key`);
      
      htmlElements.forEach(element => {
        const key = element.getAttribute('data-translate-html-key');
        if (translations[key]) {
          element.innerHTML = translations[key];
        } else {
          console.warn(`Translation HTML key not found: ${key}`);
        }
      });

      // Update document language
      document.documentElement.lang = lang;
      
      // Update meta description
      const metaDescription = document.querySelector('meta[name="description"]');
      if (metaDescription && translations['meta.description']) {
        metaDescription.setAttribute('content', translations['meta.description']);
      }

      // Update page title
      if (translations['page.title']) {
        document.title = translations['page.title'];
      }
    }

    // Language switching functionality
    function initLanguageSwitch() {
      console.log('Initializing language switch...');
      
      const langSwitch = document.getElementById('lang-switch');
      if (!langSwitch) {
        console.error('Language switch element not found');
        return;
      }

      // Set initial language from localStorage or default to 'ja'
      const savedLang = localStorage.getItem('selectedLanguage') || 'ja';
      console.log(`Setting initial language to: ${savedLang}`);
      langSwitch.value = savedLang;
      
      // Apply translations for the saved language
      if (window.translations) {
        console.log('Applying initial translations...');
        applyTranslations(savedLang);
      } else {
        console.warn('Translations not loaded yet');
      }

      // Handle language switch
      langSwitch.addEventListener('change', function() {
        const selectedLang = this.value;
        console.log(`Language switched to: ${selectedLang}`);
        localStorage.setItem('selectedLanguage', selectedLang);
        
        if (window.translations) {
          applyTranslations(selectedLang);
        } else {
          console.error('Translations not available for language switch');
        }
      });
    }

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM loaded, initializing translation system...');
      
      // Wait for translations to load, then initialize
      if (window.translations) {
        console.log('Translations already loaded, initializing language switch');
        initLanguageSwitch();
      } else {
        console.log('Waiting for translations to load...');
        // Fallback: wait a bit for translations to load
        setTimeout(() => {
          if (window.translations) {
            console.log('Translations loaded after timeout, initializing language switch');
            initLanguageSwitch();
          } else {
            console.error('Translations failed to load after timeout');
          }
        }, 100);
      }
    });

    // Export for global access
    window.applyTranslations = applyTranslations;
    window.initLanguageSwitch = initLanguageSwitch;
  </script>
</body>
</html>
